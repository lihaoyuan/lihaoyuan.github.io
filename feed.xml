<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <generator uri="http://jekyllrb.com" version="4.0.1">Jekyll</generator>
  
  
  <link href="/feed.xml" rel="self" type="application/atom+xml" />
  <link href="/" rel="alternate" type="text/html" />
  <updated>2020-08-04T14:05:08+00:00</updated>
  <id>//</id>

  
    <title type="html">lhyâ€™s blog</title>
  

  
    <subtitle>åŠªåŠ›ï¼Œå¥‹æ–—</subtitle>
  

  
    <author>
        <name>lhy</name>
      
      
    </author>
  

  
  
    <entry>
      
      <title type="html">Xv6 ç¬”è®°ï¼ˆä¸‰ï¼‰ï¼šé”</title>
      
      
      <link href="/2020/08/04/xv6-note-3/" rel="alternate" type="text/html" title="Xv6 ç¬”è®°ï¼ˆä¸‰ï¼‰ï¼šé”" />
      
      <published>2020-08-04T00:00:00+00:00</published>
      <updated>2020-08-04T00:00:00+00:00</updated>
      <id>/2020/08/04/xv6-note-3</id>
      <content type="html" xml:base="/2020/08/04/xv6-note-3/">&lt;p&gt;ç”±äºè°ƒåº¦éšæ—¶å‘ç”Ÿï¼Œè€Œç‰©ç†å†…å­˜è¢«å¤šä¸ª CPU å…±äº«ï¼Œæ‰€ä»¥ä¸¤ä¸ª CPU æˆ–çº¿ç¨‹æœ‰å¯èƒ½ä¼šåŒæ—¶è®¿é—®åŒä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå¦‚æœä¸å°å¿ƒåœ°é™åˆ¶å¹¶å‘è®¿é—®ï¼ŒåŒæ—¶è¯»å†™æˆ–åŒæ—¶å†™éƒ½å¯èƒ½ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€ç”šè‡³æŸåæ•°æ®ç»“æ„ã€‚æœ‰è®¸å¤šç­–ç•¥å¯ä»¥ç”¨æ¥ä¿æŒå¹¶å‘ä¸‹ä»£ç çš„æ­£ç¡®æ€§ï¼Œé”æ˜¯å…¶ä¸­å¸¸ç”¨çš„ä¸€ç§&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;é”å…·æœ‰äº’æ–¥æ€§ï¼Œç¡®ä¿åŒä¸€æŠŠé”åœ¨åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ª CPU å¯ä»¥æŒæœ‰ï¼Œå¦‚æœå°†é”ä¸æŸä¸ªå…±äº«æ•°æ®å…³è”ï¼Œå¹¶å§‹ç»ˆåœ¨æŒæœ‰é”çš„æƒ…å†µä¸‹è®¿é—®æ•°æ®ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®å°±åœ¨åŒä¸€æ—¶é—´ä¹Ÿåªæœ‰ä¸€ä¸ª CPU å¯ä»¥ä½¿ç”¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥è¯´é”ä¿æŠ¤äº†è¿™ä¸ªæ•°æ®&lt;/p&gt;

&lt;p&gt;ä»¥é“¾è¡¨ä¸ºä¾‹&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;   &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;sizeof&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;next&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ®µä»£ç åœ¨ä¸²è¡Œç¯å¢ƒä¸­å¯ä»¥æ­£ç¡®è¿è¡Œï¼Œä½†å¹¶è¡Œåˆ™ä¼šå‡ºé”™ã€‚å‡è®¾æœ‰ä¸¤ä¸ª CPU åŒæ—¶åœ¨è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;push&lt;/code&gt; ä¸”éƒ½æ‰§è¡Œå®Œäº†ç¬¬ 15 è¡Œï¼Œé‚£ä¹ˆå½“å®ƒä»¬å…ˆåæ‰§è¡Œç¬¬ 16 è¡Œæ—¶ï¼Œåæ‰§è¡Œçš„èµ‹å€¼ä¼šæŠŠå…ˆæ‰§è¡Œçš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;push&lt;/code&gt; ç»“æœè¦†ç›–æ‰ï¼Œä¸¤æ¬¡ &lt;code class=&quot;highlighter-rouge&quot;&gt;push&lt;/code&gt; åªå¢åŠ äº†ä¸€ä¸ªå…ƒç´ &lt;/p&gt;

&lt;p&gt;ä¸Šé¢æ˜¯ç«äº‰æ¡ä»¶ï¼ˆrace conditionï¼‰çš„ä¸€ä¸ªä¾‹å­ï¼Œå½“ä¸€ä¸ªå†…å­˜åœ°å€è¢«å¹¶å‘è®¿é—®ï¼Œä¸”å…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªè®¿é—®æ˜¯å†™æ“ä½œæ—¶ï¼Œå°±ä¼šäº§ç”Ÿç«äº‰æ¡ä»¶ï¼Œç«äº‰çš„ç»“æœé€šå¸¸æ˜¯ bugï¼Œè¦ä¹ˆå…¶ä¸­ä¸€ä¸ªå†™æ“ä½œä¸¢å¤±ï¼Œè¦ä¹ˆè¯»åˆ°äº†è¿˜æ²¡æ›´æ–°å®Œçš„æ•°æ®ï¼Œç»“æœå–å†³äº CPU çš„æ‰§è¡Œé¡ºåºå’Œå†…å­˜æ“ä½œé¡ºåºï¼Œæ‰€ä»¥ bug é€šå¸¸ä¸å®¹æ˜“å¤ç°ï¼ŒåŠ ä¸€è¡Œæ—¥å¿—ä¹Ÿå¯èƒ½æ”¹å˜ä¸Šè¿°é¡ºåºï¼Œä½¿ç«äº‰æ¶ˆå¤±&lt;/p&gt;

&lt;p&gt;å½“æˆ‘ä»¬è¯´é”ä¿æŠ¤äº†æ•°æ®ï¼Œå®é™…ä¸Šæ˜¯æŒ‡é”ä¿æŠ¤äº†å…³äºæ•°æ®çš„ä¸€äº›ä¸å˜é‡ï¼ˆinvariantï¼‰é›†åˆï¼Œä¸å˜é‡æ˜¯æŒ‡æ•°æ®ç»“æ„åœ¨æ“ä½œè¿‡åä¾ç„¶ä¿æŒä¸€è‡´çš„å±æ€§ï¼Œä¸€ä¸ªæ“ä½œçš„æ­£ç¡®æ€§å¸¸å¸¸å–å†³äºå¼€å§‹æ“ä½œæ—¶æ•°æ®çš„è¿™äº›ä¸å˜æ€§æ˜¯å¦ä¸ºçœŸã€‚å¯¹äºç¤ºä¾‹ä»£ç è€Œè¨€ï¼Œæ•°æ®çš„ä¸å˜é‡æ˜¯ &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt; å§‹ç»ˆæŒ‡å‘åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸”æ¯ä¸ªå…ƒç´ çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;next&lt;/code&gt; æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œè€Œ ç¬¬ 15 è¡ŒæŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;l-&amp;gt;next&lt;/code&gt; æŒ‡å‘ &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt; æš‚æ—¶ç ´åäº†æ•°æ®çš„ä¸å˜æ€§ï¼ˆè¿™æ—¶å€™ &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt; æŒ‡å‘çš„ä¸æ˜¯åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ äº†ï¼‰ï¼Œå¹¶åœ¨ 16 è¡Œæ¢å¤ï¼Œå³è¿™ä¸¤è¡Œä»£ç ä¹‹é—´å­˜åœ¨ä¸å˜é‡è¢«ç ´åçš„ç©ºéš™ï¼Œå½“åƒä¸Šé¢è¯´çš„æœ‰ä¸¤ä¸ª CPU åŒæ—¶æ‰§è¡Œåˆ°è¿™å„¿ï¼Œæ“ä½œäº†ä¸å˜æ€§ä¸ºå‡çš„æ•°æ®æ—¶ç»“æœå°±ä¼šå‡ºé”™ã€‚åœ¨ç¬¬ 15 ä¹‹å‰ã€16 è¡Œä¹‹ååŠ é”å°±å¯ä»¥ä¿è¯ä¸ä¼šæœ‰ä¸¤ä¸ª CPU åŒæ—¶æ‰§è¡Œè¿™äº›ä»£ç ï¼Œè¿™ä¸¤è¡Œä»£ç å¸¸å¸¸ç§°ä¸ºä¸´ç•ŒåŒºä»£ç ï¼ˆcritical sectionï¼‰&lt;/p&gt;

&lt;p&gt;é€»è¾‘ä¸Šï¼Œè‡ªæ—‹é”çš„å®ç°åº”è¯¥æ˜¯åƒä¸‹é¢è¿™æ ·çš„&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spinlock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// does not work!&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(;;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; 
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¿™ä¸ªå®ç°å¹¶ä¸èƒ½ä¿è¯å¹¶è¡Œç¯å¢ƒä¸‹äº’æ–¥ï¼Œå¦‚æœæœ‰ä¸¤ä¸ª CPU åŒæ—¶æ‰§è¡Œäº† if è¯­å¥ï¼Œéƒ½åˆ¤æ–­ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;locked == 0&lt;/code&gt; ä¸ºçœŸï¼Œå°±éƒ½ä¼šè®¤ä¸ºè‡ªå·±æŒæœ‰äº†é”å¹¶ç»§ç»­æ‰§è¡Œï¼Œå‡ºé”™çš„åŸå› åœ¨äºåˆ¤æ–­èƒ½å¦æŒæœ‰é”çš„ä»£ç å’ŒæŒæœ‰é”çš„ä»£ç ä¹‹é—´å­˜åœ¨ç©ºéš™ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸æ˜¯åŸå­æ€§çš„&lt;/p&gt;

&lt;p&gt;ç”±äºé”çš„å¹¿æ³›ä½¿ç”¨ï¼Œå¤šæ ¸å¤„ç†å™¨é€šå¸¸ä¼šæä¾›æŒ‡ä»¤æ¥è§£å†³ä¸Šé¢æ‰€è¯´åŸå­æ€§çš„é—®é¢˜ï¼Œä¾‹å¦‚åœ¨ RISC-V ä¸­ï¼ŒC è¯­è¨€çš„å†…å»ºå‡½æ•° &lt;code class=&quot;highlighter-rouge&quot;&gt;__sync_lock_test_and_set&lt;/code&gt; ä¼šè¢«ç¼–è¯‘æˆå¯¹ &lt;code class=&quot;highlighter-rouge&quot;&gt;amoswap r, a&lt;/code&gt; æŒ‡ä»¤çš„è°ƒç”¨ï¼Œåè€…å°† r çš„å€¼ä¸ a æŒ‡å‘çš„å€¼äº¤æ¢ï¼Œå¹¶è¿”å› r çš„æ—§å€¼ã€‚ä¾‹å¦‚å‡è®¾æœ‰ä¸¤ä¸ª CPU åŒæ—¶æ‰§è¡Œåˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;__sync_lock_test_and_set(&amp;amp;lk-&amp;gt;locked, 1)&lt;/code&gt; æ¥æŒæœ‰åŒä¸€æŠŠé”ï¼Œå…ˆæ‰§è¡Œçš„ CPU ä¼šåœ¨ä¸€æ¡æŒ‡ä»¤å†…æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;locked&lt;/code&gt; è®¾ä¸º 1 å¹¶è¯»åˆ° 0 çš„æ—§å€¼ï¼Œåæ‰§è¡Œçš„ CPU åˆ™åªèƒ½è¯»åˆ° 1ï¼ŒæŒæœ‰é”å¤±è´¥&lt;/p&gt;

&lt;p&gt;æ‰€ä»¥æ­£ç¡®çš„è‡ªæ—‹ä»£ç åº”è¯¥æ˜¯åƒè¿™æ ·çš„&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spinlock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__sync_lock_test_and_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locked&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è‡ªæ—‹é”åœ¨ while å¾ªç¯ä¸­ä¸åœæ£€æµ‹èƒ½å¦æŒæœ‰é”ï¼Œåœ¨æˆåŠŸæŒæœ‰é”ä¹‹å‰ä¼šä¸€ç›´å ç”¨ç€ CPU èµ„æºï¼Œé€‚ç”¨äºä¸´ç•ŒåŒºä»£ç è¾ƒå°‘ã€æŒæœ‰åå¿«é€Ÿé‡Šæ”¾é”çš„åœºæ™¯ï¼Œå½“ç¡®å®šèƒ½å¾ˆå¿«å¾—åˆ°é”æ—¶ï¼Œè‡ªæ—‹ä¼šæ¯”ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°å…¶ä»–è¿›ç¨‹æ›´èŠ‚çœ CPU èµ„æºã€‚é™¤äº†è‡ªæ—‹é”å¤–ï¼Œxv6 è¿˜å®ç°äº†å¦ä¸€ç§é€‚ç”¨äºå…¶ä»–åœºæ™¯çš„ç¡çœ é”ï¼ˆsleep lockï¼‰ï¼Œå½“è¿›ç¨‹è¯•å›¾æŒæœ‰ä¸€ä¸ªç¡çœ é”æ—¶ï¼Œå¦‚æœå‘ç°é”å·²ç»è¢«å…¶ä»–è¿›ç¨‹æŒæœ‰ï¼Œå‰è€…å°±ä¼šè¿›å…¥ç¡çœ çŠ¶æ€ï¼Œå°† CPU èµ„æºè®©ç»™å…¶ä»–è¿›ç¨‹ï¼Œå¹¶åœ¨å”¤é†’åé‡æ–°æ£€æŸ¥é”çš„çŠ¶æ€ï¼Œå†å†³å®šç»§ç»­ç¡çœ è¿˜æ˜¯æŒæœ‰é”ï¼Œä¸è‡ªæ—‹é”ç›¸åï¼Œç¡çœ é”åœ¨ç¡çœ å’Œå”¤é†’è¿‡ç¨‹ä¸­å­˜åœ¨å¤§é‡çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä½†ä¸ä¼šé•¿æ—¶é—´å ç”¨ CPUï¼Œæ‰€ä»¥æ›´é€‚åˆåœ¨è€—æ—¶è¾ƒé•¿çš„ä»»åŠ¡ä¸­ä½¿ç”¨&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;acquiresleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleeplock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locked&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;locked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myproc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é”é€šå¸¸åœ¨åŒä¸€ä¸ªå‡½æ•°é‡ŒæŒæœ‰ï¼ˆacquireï¼‰å’Œé‡Šæ”¾ï¼ˆreleaseï¼‰ï¼Œä½†æ›´æ°å½“çš„ç”¨æ³•æ˜¯ï¼šåœ¨ä¸€ç³»åˆ—éœ€è¦ç¡®ä¿åŸå­æ€§çš„æ“ä½œå‰æŒæœ‰é”ï¼Œå¹¶åœ¨è¿™ä¸€ç³»åˆ—æ“ä½œç»“æŸåé‡Šæ”¾ï¼Œå¦‚æœè¿™äº›æ“ä½œåœ¨ä¸åŒå‡½æ•°ï¼Œç”šè‡³ä¸åŒçº¿ç¨‹ã€ä¸åŒ CPU å¼€å§‹å’Œç»“æŸï¼Œé”çš„æŒæœ‰å’Œé‡Šæ”¾ä¹Ÿåº”è¯¥è¿™ä¹ˆåš&lt;/p&gt;

&lt;p&gt;ä»è¡¨é¢ä¸Šçœ‹ï¼Œä¸Šé¢çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;acquiresleep&lt;/code&gt; å‡½æ•°æ˜¯æ ‡å‡†çš„å¼€å¤´æŒæœ‰ã€ç»“å°¾é‡Šæ”¾é”çš„ç»“æ„ã€‚ä½†å®é™…ä¸Šï¼Œä»£ç æŒæœ‰ç”¨äºä¿æŠ¤ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;locked&lt;/code&gt; çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;lk&lt;/code&gt; è‡ªæ—‹é”ï¼Œåœ¨ while æ¡ä»¶é‡Œæ£€æµ‹é”çš„çŠ¶æ€ä¸ºé”ä¸Šåï¼Œå°±æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;lk&lt;/code&gt; ä½œä¸ºå‚æ•°ä¼ ç»™äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt;ï¼Œåè€…åœ¨è·å–åˆ°æ‰€åœ¨è¿›ç¨‹çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;p-&amp;gt;lock&lt;/code&gt; ä¹‹åï¼ŒæŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;lk&lt;/code&gt; ç»™é‡Šæ”¾äº†ï¼Œç›´åˆ°è¿›ç¨‹ç¡çœ è¢«å”¤é†’åæ‰é‡æ–°æŒæœ‰å®ƒï¼Œç„¶åè¿”å›åˆ° &lt;code class=&quot;highlighter-rouge&quot;&gt;acquiresleep&lt;/code&gt; ç»§ç»­æ‰§è¡Œï¼Œå³åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;acquiresleep&lt;/code&gt; æ•´ä¸ªå‡½æ•°çš„ä»£ç ä¸­ï¼Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;lk-&amp;gt;lk&lt;/code&gt; æ˜¯åœ¨  &lt;code class=&quot;highlighter-rouge&quot;&gt;acquiresleep&lt;/code&gt; å‡½æ•°è¢«æŒæœ‰ã€ç„¶ååœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt; ä¸­è¢«é‡Šæ”¾ã€å†åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;sleep&lt;/code&gt; å‡½æ•°è¢«æŒæœ‰ã€åœ¨  &lt;code class=&quot;highlighter-rouge&quot;&gt;acquiresleep&lt;/code&gt; å‡½æ•°é‡Šæ”¾çš„ï¼Œæ­£æ˜¯ä¸Šé¢è¯´çš„åœ¨ä¸åŒå‡½æ•°æŒæœ‰å’Œé‡Šæ”¾çš„åœºæ™¯&lt;/p&gt;

&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spinlock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;proc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myproc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;  
    &lt;span class=&quot;n&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

  &lt;span class=&quot;cm&quot;&gt;/* sleep and waked up */&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// Reacquire original lock.&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="os" />
      
        <category term="xv6" />
      

      
        <summary type="html">ç”±äºè°ƒåº¦éšæ—¶å‘ç”Ÿï¼Œè€Œç‰©ç†å†…å­˜è¢«å¤šä¸ª CPU å…±äº«ï¼Œæ‰€ä»¥ä¸¤ä¸ª CPU æˆ–çº¿ç¨‹æœ‰å¯èƒ½ä¼šåŒæ—¶è®¿é—®åŒä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå¦‚æœä¸å°å¿ƒåœ°é™åˆ¶å¹¶å‘è®¿é—®ï¼ŒåŒæ—¶è¯»å†™æˆ–åŒæ—¶å†™éƒ½å¯èƒ½ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœã€ç”šè‡³æŸåæ•°æ®ç»“æ„ã€‚æœ‰è®¸å¤šç­–ç•¥å¯ä»¥ç”¨æ¥ä¿æŒå¹¶å‘ä¸‹ä»£ç çš„æ­£ç¡®æ€§ï¼Œé”æ˜¯å…¶ä¸­å¸¸ç”¨çš„ä¸€ç§</summary>
      

      
      
    </entry>
  
  
  
    <entry>
      
      <title type="html">å…³äºæé«˜æ•ˆç‡</title>
      
      
      <link href="/2020/07/06/efficiency/" rel="alternate" type="text/html" title="å…³äºæé«˜æ•ˆç‡" />
      
      <published>2020-07-06T00:00:00+00:00</published>
      <updated>2020-07-06T00:00:00+00:00</updated>
      <id>/2020/07/06/efficiency</id>
      <content type="html" xml:base="/2020/07/06/efficiency/">&lt;p&gt;è¿‘æ®µæ—¶é—´æ€»ç»“äº†ä¸€äº›æé«˜æ•ˆç‡çš„æ–¹æ³•ï¼Œå†™ä¸‹æ¥è®°å½•ä¸€ä¸‹ï¼ˆå¯èƒ½ä¸é€‚ç”¨äºä»»ä½•äººï¼‰&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;æ­£å¿µ&quot;&gt;æ­£å¿µ&lt;/h3&gt;

&lt;p&gt;åˆå«å†¥æƒ³ï¼Œä½†å°±åƒåœ¨è¾“å…¥æ³•é‡Œè¾“â€œå†¥æƒ³â€å€™é€‰è¯é‡Œä¼šå‡ºç° ğŸ§˜â€â™‚ï¸ï¼Œåœ¨å¾ˆå¤šäººå°è±¡é‡Œå¯èƒ½æ˜¯ä¸€ç§åƒä½›æ•™å¾’æ‰“åä¹‹ç±»éå¸¸æ­£å¼æˆ–è€…ç¥ç§˜çš„æ´»åŠ¨ï¼Œæ‰€ä»¥è¿™é‡Œç”¨æ­£å¿µå«ä¹‰å¯èƒ½ä¼šæ›´å‡†ç¡®ï¼ŒiOS è‡ªå¸¦çš„å¥åº· App é‡Œå°±æœ‰â€œæ­£å¿µè®­ç»ƒâ€è¿™ä¸€é¡¹ï¼Œæè¿°æ˜¯&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;â€œæ­£å¿µâ€æ˜¯ä¸€ç§ç§¯æã€å¼€æ”¾å¼æ„ŸçŸ¥å½“ä¸‹çš„çŠ¶æ€ã€‚è¿›è¡Œæ­£å¿µè®­ç»ƒæ—¶ï¼Œæ‚¨æ¸¸ç¦»åœ¨ä¸€å®šè·ç¦»ä¹‹å¤–æ¥è§‚å¯Ÿè‡ªå·±çš„æ€æƒ³å’Œæ„Ÿè§‰ï¼Œè€Œä¸è¯„åˆ¤å¥½åã€‚æ­£å¿µä¸ä¼šè®©å²æœˆåŒ†åŒ†æµé€ï¼Œè€Œæ˜¯æ„å‘³ç€æ´»åœ¨å½“ä¸‹ï¼Œç§¯æä½“éªŒã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;çœ‹ä¸Šå»å¾ˆç„ä¹ï¼Œå…¶å®æ­£å¿µå°±æ˜¯å¯¹æ€ç»´ï¼ˆæˆ–è€…è¯´éª‘è±¡äººï¼‰çš„ä¸€ç§è®­ç»ƒï¼Œå¸®åŠ©å¤§è„‘æ›´å¥½åœ°æ§åˆ¶æ€ç»´ã€‚å†…å¿ƒçš„å¤§è±¡æ€»æ˜¯ä¼šä¸å—æ§åˆ¶åœ°å†’å‡ºå„ç§å„æ ·çš„æƒ³æ³•ï¼Œæ¯”å¦‚â€œåˆšæ‰å’Œè°è°è°èŠå¤©æ—¶ï¼Œæˆ‘æ˜¯ä¸æ˜¯æ¢ä¸€ç§æ–¹å¼æ¥è¯´è¿™å¥è¯ä¼šæ¯”è¾ƒå¥½â€ã€â€œéœ€æ±‚é‡Œè¿˜æœ‰ä¸€ä¸ªç‚¹å¿˜äº†åšäº†ï¼Œå¿«æƒ³æƒ³è¦æ€ä¹ˆå®ç°â€ï¼Œæ­£å¿µç»ƒä¹ å°±æ˜¯è¦è®­ç»ƒæ€ç»´åœ¨ç»ƒä¹ çš„è¿‡ç¨‹ä¸­ä¸å»ç†ä¼šã€æ€è€ƒã€è¯„åˆ¤è¿™äº›å†’å‡ºæ¥çš„æƒ³æ³•ï¼Œè€Œæ˜¯ä»¥ä¸€ç§æ¸¸ç¦»çš„å¿ƒæ€æ¥è§‚å¯Ÿè‡ªå·±çš„å‘¼å¸ã€èº«ä½“æ„Ÿå—æˆ–æ˜¯å‘¨å›´çš„ç¯å¢ƒï¼Œæ´»åœ¨å½“ä¸‹ã€‚åœ¨è§‚å¯Ÿè€Œä¸æ€è€ƒçš„è¿‡ç¨‹ä¸­ï¼Œç´§ç»·çš„ç¥ç»ä¹Ÿèƒ½å¾—åˆ°ç‰‡åˆ»çš„ä¼‘æ¯&lt;/p&gt;

&lt;p&gt;æˆ‘æ˜¯ä»å»å¹´ä¸ƒæœˆå¼€å§‹å°è¯•ç”¨äº”åˆ°ååˆ†é’Ÿçš„æ­£å¿µæ¥ä»£æ›¿åˆè§‰çš„ï¼Œä¸€å¼€å§‹è·Ÿç€ Now ä¸Šé¢çš„å…¥é—¨å’Œé™å…è¯¾ç¨‹æ¥è§‚å¯Ÿå‘¼å¸å’Œèº«ä½“ï¼Œæ‰¾åˆ°â€œæ¸¸ç¦»â€å’Œâ€œæ´»åœ¨å½“ä¸‹â€çš„æ„Ÿè§‰ï¼Œåæ¥å¬å¬ Apple Music ä¸Šçš„å†¥æƒ³æ­Œå•ä¹Ÿå¾ˆå®¹æ˜“è¿›å…¥çŠ¶æ€&lt;/p&gt;

&lt;p&gt;å›æƒ³èµ·æ¥ï¼Œè¿™ä¸€å¹´çš„æ­£å¿µå¸¦æ¥äº†ä»€ä¹ˆå‘¢ï¼Ÿ1. èŠ±æ›´çŸ­çš„åˆä¼‘æ—¶é—´å¾—åˆ°äº†æ›´å¥½çš„ä¼‘æ¯è´¨é‡ï¼›2. å°±åƒå§æ¨å’Œé£é¸Ÿå¤¹èƒ¸èƒ½è®©å¥èº«è€…æ›´æ¸…æ™°åœ°æ„Ÿå—èƒ¸éƒ¨å„å¤„è‚Œè‚‰çš„å‘åŠ›ï¼Œæ­£å¿µä¹Ÿèƒ½è®©äººæ„Ÿå—åˆ°å¯¹æ€ç»´çš„æ§åˆ¶åŠ›ï¼Œéœ€è¦ä¸“æ³¨çš„æ—¶å€™æŠ›å¼€æ‚å¿µã€å¿ƒæ— æ—éª›ï¼Œä¼‘æ¯æ—¶å½»åº•æ”¾æ¾ç¥ç»&lt;/p&gt;

&lt;h3 id=&quot;ç•ªèŒ„å·¥ä½œæ³•&quot;&gt;ç•ªèŒ„å·¥ä½œæ³•&lt;/h3&gt;

&lt;p&gt;ç•ªèŒ„å·¥ä½œæ³•æ˜¯ä¸€ç§ç®€å•çš„æ—¶é—´ç®¡ç†æ–¹æ³•ï¼ŒæŠŠæ—¶é—´åˆ’åˆ†æˆä¸€ä¸ªä¸ª 25 åˆ†é’Ÿçš„ç•ªèŒ„æ—¶é—´ï¼Œåœ¨ç•ªèŒ„æ—¶é—´å†…ï¼Œä¸“æ³¨äºå¾…åŠåˆ—è¡¨é‡Œçš„æŸä¸ªä»»åŠ¡ï¼Œå°½é‡é¿å…å—å¤–éƒ¨å¹²æ‰°å’Œæ‰“æ–­ï¼Œæ¯è¿‡ä¸€ä¸ªç•ªèŒ„æ—¶é—´ä¼‘æ¯ 5 åˆ†é’Ÿï¼Œæ¯è¿‡å››ä¸ªç•ªèŒ„æ—¶é—´ä¼‘æ¯ 15 åˆ†é’Ÿ&lt;/p&gt;

&lt;p&gt;åœ¨å®è·µä¸­ï¼Œæƒ³è¦ä¸è¢«æ‰“æ–­ã€å®Œå…¨æŒ‰ç…§è®¡åˆ’è¡¨å·¥ä½œæ˜¯ä¸ç°å®çš„ï¼Œä½†ä¹Ÿä¸å¯èƒ½æ‰€æœ‰äº‹æƒ…éƒ½ç´§æ€¥ä¸”é‡è¦ï¼Œæˆ‘ä»¬å¯ä»¥å°½é‡å‡å°‘ä¸­æ–­çš„æ¬¡æ•°ï¼Œä¾‹å¦‚è¿™ä¸ªç•ªèŒ„æ—¶é—´å†…æ”¶åˆ°çš„ IM æ¶ˆæ¯æˆ–é‚®ä»¶æ”’åˆ°ä¸‹ä¸ªç•ªèŒ„æ—¶é—´å†é›†ä¸­å›å¤ã€æè¿‡æ¥çš„ bug ç­‰åˆ°æ¯å¤©å›ºå®šçš„æ—¶é—´å†æ”¹ç­‰ç­‰&lt;/p&gt;

&lt;p&gt;åœ¨æˆ‘çœ‹æ¥ï¼Œå…³é”®æ˜¯é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥æŠŠå·¥ä½œæ—¶é—´åˆ’åˆ†ä¸€å—å—ï¼Œè¿™ä¹ˆåšæœ‰å‡ ä¸ªå¥½å¤„ï¼š1. åœ¨æ¯å—å›ºå®šé•¿åº¦çš„å·¥ä½œæ—¶é—´ä¸­é—´æ’å…¥ä¸€å°æ®µå›ºå®šé•¿åº¦çš„ä¼‘æ¯æ—¶é—´ï¼Œç”¨æ¥æ­£å¿µã€å–æ°´ã€ä¸Šå•æ‰€ã€æ´»åŠ¨èº«ä½“ç­‰ï¼Œé¿å…è¿ç»­è¿‡é•¿æ—¶é—´å·¥ä½œæˆ–ä¼‘æ¯ï¼ˆä¾‹å¦‚æ²‰è¿·äºéš¾è§£çš„ bug å‡ å°æ—¶ä¸æŠ¬å¤´ï¼Œæˆ–æ˜¯æƒ³çŸ­æš‚ä¼‘æ¯æ—¶æ‰“å¼€äº†æŠ–éŸ³ï¼Œç»“æœä¸çŸ¥ä¸è§‰è¿‡å»äº†åŠå°æ—¶ï¼‰ï¼›2. å¯ä»¥æŠŠç•ªèŒ„æ—¶é—´å½“ä½œå·¥ä½œæ—¶é—´çš„ä¸€ä¸ªè¡¡é‡å•ä½ã€‚å¸‚åœºä¸Šæœ‰å¾ˆå¤šç•ªèŒ„å·¥ä½œæ³• Appï¼Œé™¤äº†å€’è®¡æ—¶ï¼Œè¿˜èƒ½å¸®åŠ©ç»Ÿè®¡ç•ªèŒ„æ—¶é—´çš„æƒ…å†µï¼Œè€Œè¿™äº›æ•°æ®å°±æ˜¯å…³äºä½ å·¥ä½œæ•ˆç‡çš„ç»Ÿè®¡æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å®Œæˆçš„ç•ªèŒ„æ—¶é—´æ•°é‡çœ‹åˆ°è¿™ä¸€å¤©çš„æœ‰æ•ˆå·¥ä½œæ—¶é•¿ï¼Œä¹Ÿå¯ä»¥è§‚å¯Ÿä¸€æ®µæ—¶é—´å†…æ•°æ®çš„å˜åŒ–åšä¸€äº›åˆ†æå’Œå›é¡¾ï¼Œæ›´è¿›ä¸€æ­¥è¿˜å¯ä»¥å’Œå¾…åŠåˆ—è¡¨ç›¸ç»“åˆï¼Œç»Ÿè®¡ä¸ºæŸä¸ª bug æˆ–åŠŸèƒ½ç‚¹èŠ±çš„ç•ªèŒ„æ—¶é—´æ•°é‡ï¼Œå¸®åŠ©è¯„ä¼°å·¥ä½œæ•ˆç‡ä»¥åŠåœ¨æœªæ¥æ›´å¥½åœ°é¢„ä¼°éœ€æ±‚å¼€å‘è€—æ—¶ï¼Œå°±åƒåšç”¨æˆ·å¢é•¿ï¼Œæœ‰äº†æ•°æ®å’ŒæŒ‡æ ‡èƒ½æ›´å¿«æ‰¾åˆ°é—®é¢˜æ‰€åœ¨å’Œç ´è§£å¢é•¿çš„åŠæ³•&lt;/p&gt;

&lt;h3 id=&quot;æ‰¾åˆ°æ»¡è¶³æ„Ÿ&quot;&gt;æ‰¾åˆ°æ»¡è¶³æ„Ÿ&lt;/h3&gt;

&lt;p&gt;é¦–å…ˆè¦æŠŠæ»¡è¶³æ„Ÿå’Œæ„‰æ‚¦åŒºåˆ†å¼€ï¼Œæ„‰æ‚¦æœ‰å¾ˆå¼ºçš„æ„Ÿå®˜å’Œæƒ…ç»ªæˆåˆ†ï¼Œæ¯”å¦‚ç¾é£Ÿã€åˆ·çŸ­è§†é¢‘ç­‰ï¼Œé€šå¸¸æ˜¯çŸ­æœŸçš„ï¼Œæ»¡è¶³æ„Ÿåˆ™æ˜¯å½“äººä»¬å…¨å¿ƒæŠ•å…¥å®ŒæˆæŸäº›äº‹æƒ…åå……æ»¡èƒ½é‡ä¸”éå¸¸æ»¡è¶³çš„æ„Ÿå—ï¼Œæ¯”å¦‚å¥èº«ã€é˜…è¯»ã€è£…ä¿®è‡ªå·±çš„æˆ¿å­ï¼Œéœ€è¦ä»˜å‡ºæ›´å¤šåŠªåŠ›å’Œæ—¶é—´ï¼Œä½†å®Œæˆæ—¶ä¹Ÿä¼šå¾—åˆ°æ›´å¤šå¿«ä¹&lt;/p&gt;

&lt;p&gt;å¦‚æœèƒ½åœ¨ä¸€é¡¹å·¥ä½œä¸­ï¼ˆè¿™é‡Œè¯´çš„å·¥ä½œå«ä¹‰æ›´åŠ å®½æ³›ï¼Œä¸åªæŒ‡ä¸Šç­ï¼Œä¹Ÿå¯ä»¥æ˜¯å­¦ä¹ æˆ–å…¶å®ƒäº‹æƒ…ï¼‰æ‰¾åˆ°æ»¡è¶³æ„Ÿï¼Œç”šè‡³æ˜¯ä½“éªŒâ€œå¿ƒæµâ€ï¼Œé‚£ä¹ˆå°±èƒ½ä»å·¥ä½œä¸­å¾—åˆ°æ›´å¤šå¿«ä¹ï¼Œä¹Ÿå°±æ›´åŠ ä¸“æ³¨å’Œé«˜æ•ˆ&lt;/p&gt;

&lt;p&gt;ä½†æ˜¯åœ¨å¦‚ä»Šçš„å¤§å…¬å¸é‡Œï¼Œå¾ˆå¤šäººåªæ˜¯å·¨å¤§æœºå™¨ä¸­çš„ä¸€é¢—å°é½¿è½®ï¼Œå¯èƒ½ä¸äº§å“æœ€ç»ˆçš„æˆæœå…³ç³»ä¹Ÿä¸å¤§ï¼Œè¦æ€ä¹ˆæ‰¾åˆ°æ»¡è¶³æ„Ÿå‘¢ï¼Ÿä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨å·¥ä½œä¸­æ‰¾ä¸€äº›æ¯”è¾ƒæœ‰æŒ‘æˆ˜æ€§çš„äº‹æƒ…å»åšï¼Œè¦ä¹ˆè¯•ç€åšçš„æ›´æ·±ï¼Œè¦ä¹ˆè¯•ç€åšå¾—æ›´å¤šï¼Œæˆ–æ˜¯ä½œä¸º owner æ¨åŠ¨æŠŠäº‹æƒ…åšå®Œåšå¥½ï¼Œæé«˜åœ¨å›¢é˜Ÿä¸­çš„å½±å“åŠ›ã€‚å¦‚æœéƒ½ä¸èƒ½çš„è¯ï¼Œè¿˜å¯ä»¥å°è¯•åœ¨æ—¥å¸¸å·¥ä½œä¹‹å¤–æ‰¾ä¸€äº›èƒ½è·å¾—æ»¡è¶³æ„Ÿçš„äº‹æƒ…å»åšï¼Œç™½å¤©çš„å·¥ä½œâ€œæŠŠç”µç”¨å®Œâ€åï¼Œæ™šä¸ŠèŠ±ä¸€äº›æ—¶é—´æ¥â€œå……ç”µâ€ï¼Œè¿™äº›äº‹æƒ…å¯ä»¥æ˜¯å­¦ç‚¹æ–°æŠ€æœ¯ã€çœ‹ä¹¦ã€çœ‹ç”µå½±æˆ–çºªå½•ç‰‡ç­‰ï¼Œå…³é”®æ˜¯è¿™äº›äº‹æƒ…æŒç»­åšä¸‹å»èƒ½è®©äººæœ‰æ‰€æ”¶è·ï¼Œä¸å¸¦æ¥çŸ­æš‚æ„‰æ‚¦çš„äº‹æƒ…æœ‰æ‰€åŒºåˆ†ï¼Œè¿™å¹¶ä¸æ˜¯è¯´è¦æŠŠæ‰‹æœºé‡Œçš„å¨±ä¹ç±» App å¸æ‰ï¼Œè€Œæ˜¯è¦å¯¹éå·¥ä½œæ—¶é—´ä¹Ÿåšä¸€ä¸ªç®€å•çš„è§„åˆ’ï¼Œä¾‹å¦‚ä¸æŠŠæ‰€æœ‰çš„ä¸‹ç­æ—¶é—´éƒ½ç”¨æ¥åˆ·æŠ–éŸ³å’Œé—²èŠï¼ŒæŠ½ä¸€ä¸ªå°æ—¶çœ‹çºªå½•ç‰‡æˆ–è¯»ä¹¦ï¼Œä»å·¥ä½œçš„çƒ¦æ¼ä¸­è·³å‡ºæ¥ï¼Œä¸ªäººæ„Ÿè§‰ä¼šæ›´åŠ å……å®&lt;/p&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="thought" />
      

      
        <summary type="html">è¿‘æ®µæ—¶é—´æ€»ç»“äº†ä¸€äº›æé«˜æ•ˆç‡çš„æ–¹æ³•ï¼Œå†™ä¸‹æ¥è®°å½•ä¸€ä¸‹ï¼ˆå¯èƒ½ä¸é€‚ç”¨äºä»»ä½•äººï¼‰</summary>
      

      
      
    </entry>
  
  
  
    <entry>
      
      <title type="html">è¯»ã€Šç®€å•é€»è¾‘å­¦ã€‹</title>
      
      
      <link href="/2020/05/17/being-logical/" rel="alternate" type="text/html" title="è¯»ã€Šç®€å•é€»è¾‘å­¦ã€‹" />
      
      <published>2020-05-17T00:00:00+00:00</published>
      <updated>2020-05-17T00:00:00+00:00</updated>
      <id>/2020/05/17/being-logical</id>
      <content type="html" xml:base="/2020/05/17/being-logical/">&lt;p&gt;æœ€è¿‘è¯»äº†ä¸€æœ¬å…³äºé€»è¾‘çš„å°ä¹¦ã€Š&lt;a href=&quot;https://book.douban.com/subject/24754537/&quot;&gt;ç®€å•çš„é€»è¾‘å­¦&lt;/a&gt;ã€‹ã€‚è¿™æœ¬ä¹¦åœ¨è±†ç“£ä¸Šè¤’è´¬ä¸ä¸€ï¼Œæˆ‘è§‰å¾—æœ‰ä¸€éƒ¨åˆ†åŸå› æ˜¯ä¹¦åçš„ç¿»è¯‘ï¼Œå®ƒä¸æ˜¯ä¸€æœ¬ä¸¥è‚ƒçš„é€»è¾‘å­¦æ•™ç§‘ä¹¦ï¼Œè€Œæ˜¯â€œä¸€æœ¬ç°å®åº”ç”¨æŒ‡å—ï¼Œå‘é‚£äº›åˆæ¬¡æ¥è§¦é€»è¾‘å­¦çš„äººä»‹ç»é€»è¾‘å­¦çš„åŸºæœ¬åŸç†â€ï¼ŒåŸä¹¦åâ€œ&lt;em&gt;Being Logical: A Guide to Good Thinking&lt;/em&gt;â€æ›´è´´åˆ‡åœ°æè¿°äº†å®ƒçš„å†…å®¹ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå­¦ä¹ é€»è¾‘æ›´å¤šçš„æ˜¯å…³äºå¦‚ä½•æ€è€ƒå’Œçœ‹å¾…äº‹ç‰©ï¼›æ›´å¤šå…³äºè¯´æœè‡ªå·±ï¼Œè€Œä¸æ˜¯è¯´æœåˆ«äººï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œè¿™æœ¬ä¹¦æ˜¯æœ‰æ‰€å¯å‘çš„&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;ä¸‹é¢æ˜¯ä¸€äº›å†…å®¹çš„æ‘˜å½•&lt;/p&gt;

&lt;h3 id=&quot;å…³äºæ²Ÿé€š&quot;&gt;å…³äºæ²Ÿé€š&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;æˆ‘ä»¬å¤§è„‘ä¸­çš„æ¯ä¸ªè§‚å¿µæœ€ç»ˆéƒ½æºäºå¯¹äº‹ç‰©çš„ææ‘¹ï¼Œè€ŒçœŸå®å­˜åœ¨çš„äº‹ç‰©å´ç‹¬ç«‹äºè§‚å¿µä¹‹å¤–ã€‚è§‚å¿µæ˜¯å¯¹å®¢è§‚äº‹ç‰©çš„ä¸»è§‚åæ˜ ã€‚&lt;/p&gt;

  &lt;p&gt;é¦–å…ˆæ˜¯äº‹ç‰©ï¼Œç„¶åäº§ç”Ÿè§‚å¿µï¼Œæœ€åå‡ºç°è¯­è¨€ã€‚å³ä½¿ä¸€ä¸ªè§‚å¿µæ¸…æ™°æ˜ç¡®è€Œä¸”å¿ å®åœ°åæ˜ äº†å®¢è§‚äº‹ç‰©ï¼Œä¸ºäº†äº¤æµçš„æ–¹ä¾¿ï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥ç”¨è¯­è¨€è¡¨è¾¾å‡ºæ¥ã€‚è§‚å¿µå¿…é¡»å’Œè¯­è¨€ç´§å¯†åˆ‡åˆï¼Œäººä»¬æ‰èƒ½ç•…é¡ºäº¤æµã€‚å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½æ¸…æ¥šè¡¨è¾¾æˆ‘ä»¬çš„è§‚å¿µï¼Œä»…ä»…æ˜¯å› ä¸ºæ²¡æœ‰å®Œå…¨äº†è§£è‡ªå·±è¦è¡¨è¾¾ä»€ä¹ˆã€‚æ‰€ä»¥ï¼Œå›å¤´é‡æ–°å®¡è§†è§‚å¿µçš„å¤–åœ¨æ¥æºï¼Œç†æ¸…æ€è·¯ï¼Œåˆé€‚çš„è¡¨è¾¾å°†éšä¹‹è€Œæ¥ã€‚&lt;/p&gt;

  &lt;p&gt;ä¸è¦æƒ³å½“ç„¶åœ°è®¤ä¸ºä½ çš„å¬ä¼—ä¼šé¢†æ‚Ÿä½ æ²¡æœ‰ç›´æ¥è¡¨è¾¾çš„æ„æ€ã€‚é—®é¢˜è¶Šå¤æ‚ï¼Œè¿™ä¸ªåŸåˆ™è¶Šé‡è¦ã€‚æœ‰æ—¶ï¼Œæˆ‘ä»¬æƒ³å½“ç„¶åœ°è®¤ä¸ºå¬ä¼—å’Œæˆ‘ä»¬ä¸€æ ·äº†è§£é—®é¢˜çš„èƒŒæ™¯ä¿¡æ¯ï¼Œå¯ä»¥ç‰¢ç‰¢æŠŠæ¡æ‰€è¦è®¨è®ºçš„é—®é¢˜ï¼Œä½†å®é™…ä¸Šï¼Œå¯èƒ½å¾ˆå¤šå¬ä¼—å¯¹è¿™äº›ä¿¡æ¯æ ¹æœ¬ä¸€æ— æ‰€çŸ¥ã€‚å½“æˆ‘ä»¬æ‹¿ä¸å‡†çš„æ—¶å€™ï¼Œæœ€å¥½èƒ½æ¸…æ¥šåœ°è®²æ˜èƒŒæ™¯ä¿¡æ¯ï¼›å” å” å¨å¨æ€»æ¯”æŒ‚ä¸€æ¼ä¸‡å¼ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;è¯­è¨€ä½œä¸ºä¼ é€’æ€æƒ³çš„åª’ä»‹æ˜¯ä¸å®Œç¾çš„ï¼Œä¸€æ–¹é¢å‘è¨€è€…å¯èƒ½è‡ªå·±ä¹Ÿæ²¡æœ‰æƒ³æ˜ç™½è‡ªå·±çš„è§‚å¿µï¼Œè‡ªç„¶å°±ä¸èƒ½æ¸…æ¥šåœ°è¡¨è¾¾ç»™åˆ«äººå¬ï¼›å¦ä¸€æ–¹é¢è¯è¯­å¸¸å¸¸æ˜¯å¤šä¹‰çš„ï¼ŒåŒæ ·çš„æ€æƒ³å¯ä»¥ç”¨ä¸åŒçš„è¯­è¨€å½¢å¼æ¥è¡¨è¾¾ï¼ŒåŒä¸€å¥è¯ä¹Ÿå¯ä»¥è¢«è§£é‡Šæˆä¸åŒæ€æƒ³ï¼Œè¿™å°±éœ€è¦å‘è¨€è€…ä¸ºå¬è€…æä¾›è¶³å¤Ÿå¤šçš„ä¸Šä¸‹æ–‡ï¼Œæ¥æ¶ˆé™¤è¿™äº›æ¨¡ç³Šåœ°å¸¦ã€‚ä¸ç®¡æ˜¯å¯¹å‘è¨€è€…è¿˜æ˜¯å¬è€…ï¼Œâ€œç”¨ä½ è‡ªå·±çš„è¯æ¥è¯´â€éƒ½æ˜¯æ£€æµ‹æ˜¯å¦å¼„æ¸…æ¥šä¸€ä¸ªè§‚å¿µçš„æœ€ä½³æ–¹æ³•ï¼Œå‘è¨€è€…å¯ä»¥é€šè¿‡è¯´æˆ–å†™ç†æ¸…æ€ç»ªã€æ”¹å–„è¡¨è¾¾ï¼Œå¬è€…å¯ä»¥é€šè¿‡ç”¨å®Œå…¨ä¸åŒçš„ç”¨è¯­è¯´å‡ºåŒæ ·çš„è§‚å¿µæ¥ç¡®å®šè‡ªå·±äº†è§£äº†å¯¹æ–¹çš„è§‚å¿µ&lt;/p&gt;

&lt;h3 id=&quot;å…³äºæ¯”è¾ƒ&quot;&gt;å…³äºæ¯”è¾ƒ&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;è¦å¯¹æ¯”ä»»ä½•ä¸¤ä¸ªäº‹ç‰©ï¼Œç‰¹åˆ«æ˜¯åºå¤§å¤æ‚çš„äº‹ç‰©ï¼Œåƒå†å²äº‹ä»¶ä¹‹ç±»ï¼Œè¦è°¨è®°ä¸èƒ½ä»…ä»…å› ä¸ºåœ¨æ¯”è¾ƒæ—¶æˆ‘ä»¬æ³¨æ„åˆ°äº†å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œå°±é²è½åœ°å¾—å‡ºè¯¸å¦‚â€œè¿™ä¸¤ä¸ªäº‹ä»¶å¾ˆç›¸ä¼¼â€ä¹‹ç±»çš„ç»“è®ºã€‚é—®é¢˜çš„å…³é”®å¹¶ä¸æ˜¯ç›¸ä¼¼ç‰¹å¾çš„å¤šå°‘ï¼Œèµ·å†³å®šä½œç”¨çš„æ˜¯è¿™äº›ç›¸ä¼¼ç‰¹å¾çš„é‡è¦æ€§ã€‚å¦‚æœä¸€ä¸ªæ€§è´¨æ­ç¤ºäº†äº‹ç‰©çš„æœ¬è´¨ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯é‡è¦çš„ï¼Œå®ƒæ­ç¤ºäº†äº‹ç‰©æœ¬èº«çš„ç‰¹æ€§ã€‚&lt;/p&gt;

  &lt;p&gt;å¦‚æœä¸€ä¸ªä¸»è¦ç‰¹æ€§è¢«é—æ¼ï¼Œé‚£ä¹ˆå³ä½¿æœ‰å¤§é‡ç›¸ä¼¼çš„å…¶ä»–ç‰¹æ€§ï¼Œä¹Ÿä¸èƒ½ä½œå‡ºå¯é çš„æ¯”è¾ƒç»“è®ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ä¸€äº›è‡ªåª’ä½“å¸¸å¸¸ç”¨ç°å®ä¸­çš„ä¸€äº›è››ä¸é©¬è¿¹ä¸å†å²äº‹ä»¶å‘ç”Ÿæ—¶ä¹Ÿå‡ºç°è¿‡çš„ç°è±¡åšæ¯”è¾ƒï¼Œå¾—å‡ºå³å°†å‘ç”Ÿå±æœºä¹‹ç±»çš„ç»“è®ºï¼Œæ¥å¸å¼•çœ¼çƒå’Œå…³æ³¨åº¦ã€‚ä¾‹å¦‚æœ€è¿‘å¾ˆç«çš„ã€Šè…¾è®¯çš„èƒŒæ°´ä¸€æˆ˜ã€‹é‡Œä¸¾äº†è¯ºåŸºäºšçš„ä¾‹å­ï¼Œç»™äººä¸€ç§è…¾è®¯å¤§å¦å°†å€¾çš„æ„Ÿè§‰ï¼Œä½†å‡ å¹´ä¸€æ¢çš„æ‰‹æœºç¡¬ä»¶å’Œå¾®ä¿¡ç­‰äº’è”ç½‘åŸºç¡€è®¾æ–½é€‚åˆæ¯”è¾ƒå—ï¼Ÿæˆ‘è§‰å¾—å¯æ¯”æ€§ä¸é«˜&lt;/p&gt;

&lt;h3 id=&quot;å…³äºæ€€ç–‘&quot;&gt;å…³äºæ€€ç–‘&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;å¦‚æœæŠŠæ€€ç–‘è®ºä½œä¸ºä¸€ä¸ªé•¿ä¹…çš„æ€åº¦ï¼Œä»å¿ƒç†å­¦çš„è§’åº¦æ¥è¯´ï¼Œæ˜¯æåº¦å±é™©çš„ã€‚å®ƒåœ¨å¼€å§‹æ¨ç†ä¹‹å‰å°±å·²ç»è®¾ä¸‹éšœç¢ï¼Œæ‰­æ›²æ¨ç†çš„æ­£ç¡®è¿›ç¨‹ã€‚æŒè¿™ç§æ€åº¦çš„æ€€ç–‘è®ºï¼Œè¡¨ç°å½¢å¼æœ‰ä¸¤ç§ï¼šæç«¯æ€€ç–‘è®ºè€…å®£ç§°ä¸–ç•Œä¸Šæ ¹æœ¬æ²¡æœ‰æ‰€è°“çš„çœŸç›¸ã€‚è¿™æ˜æ˜¾æ˜¯è‡ªç›¸çŸ›ç›¾çš„ç»“è®ºï¼Œå› ä¸ºå¦‚æœè¿™ä¸–ç•Œä¸Šæ²¡æœ‰çœŸç›¸ï¼Œå°±æ— æ³•å¯¹ä¸Šè¿°å‘½é¢˜åŠ ä»¥åˆ¤æ–­ï¼Œç”±æ­¤è¿™ä¸ªç»“è®ºæ ¹æœ¬å°±æ˜¯æ— æ ¹ä¹‹èŠ±ã€‚ä¸­åº¦æ€€ç–‘è®ºè€…å‹‰å¼ºæ‰¿è®¤è¿™ä¸ªä¸–ç•Œä¸Šæˆ–è®¸æœ‰çœŸç›¸å­˜åœ¨ï¼Œä½†æ˜¯ä»–åšæŒï¼Œå³ä½¿çœŸç›¸å­˜åœ¨ï¼Œäººç±»ä¹Ÿæ²¡æœ‰èƒ½åŠ›æ¢çŸ¥å®ƒã€‚åˆçœ‹èµ·æ¥ï¼Œå’Œæç«¯æ€€ç–‘è®ºè€…ç›¸æ¯”ï¼Œè¿™ä¸ªç»“è®ºä¼¼ä¹ç»™äº†çœŸç›¸ä¸€å¸­ä¹‹åœ°ï¼Œä½†äº‹å®ä¸Šå¹¶éå¦‚æ­¤ã€‚çœŸç›¸å¦‚æœåªå­˜äºç†è®ºä¸Šï¼Œä¸èƒ½é€šè¿‡å®è·µå»æ£€éªŒï¼Œé‚£å®ƒè¿˜æ˜¯ä¸å­˜åœ¨çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;è®ºè¯ä¸æ˜¯äº‰åµ&quot;&gt;è®ºè¯ä¸æ˜¯äº‰åµ&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;è®ºè¯æ˜¯ç†æ€§çš„æ¢è®¨ï¼Œä¸è¦å°†å®ƒå’Œäº‰åµæ··ä¸ºä¸€è°ˆã€‚è®ºè¯çš„ç›®çš„æ˜¯å‘ç°çœŸç›¸ï¼Œäº‰åµçš„ç›®çš„æ˜¯å‡»è´¥ä½ çš„å¯¹æ‰‹ã€‚æœ‰è®¸å¤šäººï¼Œè™½ç„¶ä»–ä»¬æ„¿æ„å’Œä½ äº‰åµï¼Œä½†å´ä¸æ„¿æ„æˆ–è€…æ²¡èƒ½åŠ›å’Œä½ è¿›è¡Œè®ºè¯ã€‚ä¸è¦æµªè´¹æ—¶é—´ã€ç²¾åŠ›å’Œè¿™ç§äººè¿›è¡Œäº‰è®ºã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ç½—ç¿”è€å¸ˆåœ¨ã€Š&lt;a href=&quot;https://www.bilibili.com/video/BV1rk4y1R7id/&quot;&gt;èŠèŠç½‘ç»œå–·å­ä¸é”®ç›˜ä¾ &lt;/a&gt;ã€‹è¡¨è¾¾äº†ç±»ä¼¼çš„è§‚ç‚¹ï¼šâ€œå¾ˆå¤šäººä¼šè¯´ä¸ºä»€ä¹ˆç½‘ç»œå–·å­è¯´è¯ç»å¸¸ä¸è®²é€»è¾‘ï¼Ÿå› ä¸ºå¾ˆå¤šæ—¶å€™ï¼Œç½‘ç»œå–·å­æ˜¯åœ¨åµæ¶ï¼Œåµæ¶è¦è®²é€»è¾‘å—ï¼Ÿè®²é€»è¾‘é‚£å«è®ºè¯ï¼Œåµæ¶æ˜¯ä¸ç”¨è®²é€»è¾‘çš„â€ã€‚ç½‘ç»œå–·å­æ˜¯è¾©ä¸èµ¢çš„ï¼Œå¾ˆå¤šæ—¶å€™ä»–ä»¬åªæ˜¯åœ¨å•çº¯åœ°å‘æ³„è´Ÿé¢æƒ…ç»ªï¼Œæˆ–å‡ºäºæŸäº›åŸå› ç…½åŠ¨åˆ«äººçš„è´Ÿé¢æƒ…ç»ªï¼Œä¸è¦å’Œä»–ä»¬äº‰è®º&lt;/p&gt;

&lt;h3 id=&quot;ä»¥æš´æ˜“æš´&quot;&gt;ä»¥æš´æ˜“æš´&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;â€œå› ä¸º__&lt;strong&gt;å·²ç»åšäº†&lt;/strong&gt;__ ï¼Œæ‰€ä»¥ç°åœ¨__&lt;strong&gt;å¯ä»¥åš&lt;/strong&gt;__ã€‚â€ç©ºæ ¼çš„é€‰é¡¹å¯ä»¥æ˜¯äººç±»çš„ä»»ä½•è¡Œä¸ºï¼Œä»å–„æ„ä¸¾æ­¢åˆ°ä¸‘æ¶ç½ªè¡Œã€‚&lt;/p&gt;

  &lt;p&gt;è¿™ä¸ªè®ºè¯çš„æ¨ç†æœ‰èµ–äºå¦‚ä¸‹å‡è®¾ï¼šå…ˆä¾‹ç‹¬ç«‹å†³å®šæœªæ¥çš„è¡Œä¸ºã€‚å®é™…ä¸Šå…ˆä¾‹ä¸èƒ½ä¸ºæœªæ¥çš„è¡Œä¸ºæä¾›æœ‰æ•ˆçš„æ”¯æŒï¼Œå·²ç»å®Œæˆçš„è¡Œä¸ºåªæœ‰å†å²æ„ä¹‰ã€‚åœ¨å†³å®šå…ˆä¾‹æ˜¯å¦æœ‰å€Ÿé‰´æ„ä¹‰æ—¶ï¼Œæˆ‘ä»¬çš„å…³æ³¨ç‚¹åº”è¯¥æ˜¯äº‹ç‰©æœ¬èº«çš„æ€§è´¨ã€‚&lt;/p&gt;

  &lt;p&gt;â€œä»–ä»¬å…ˆåšäº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åº”è¯¥ä»¥ç‰™è¿˜ç‰™ã€‚â€ä½†æ˜¯ï¼Œå¦‚æœä»–ä»¬æ‰€åšçš„æ˜¯é”™çš„ï¼Œæˆ‘ä»¬çš„è¡Œä¸ºå°±æˆäº†ä¸€ç§æŠ¥å¤ï¼ŒåŒæ–¹éƒ½æ˜¯é”™çš„ä¹Ÿä¸èƒ½ä½¿è¿™ç§è¡Œä¸ºç«‹åˆ»å˜æˆå¯¹çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æˆ‘è§‰å¾—ä¹Ÿå¯ä»¥è¡¨è¿°ä¸ºâ€œå°±äº‹è®ºäº‹â€ï¼Œè¿™å¹¶ä¸æ˜¯è¦æ±‚äººä»¬å¯¹ä»»ä½•äº‹ä¸Šéƒ½æ‰“ä¸è¿˜æ‰‹ï¼Œè€Œæ˜¯è¦æ¸…æ¥šæ„è¯†åˆ°ï¼Œå¯¹æ–¹çš„é”™è¯¯è¡Œä¸ºå¹¶ä¸èƒ½ä½¿è‡ªå·±çš„é”™è¯¯è¡Œä¸ºå˜æˆå¯¹çš„ï¼Œä¾‹å¦‚è§†é¢‘ç½‘ç«™æè¶…å‰ç‚¹æ˜ ä¹‹ç±»æ¶å¿ƒçš„å•†ä¸šè¡Œä¸ºï¼Œå¹¶ä¸èƒ½ä½¿çœ‹ç›—ç‰ˆã€ç”šè‡³ä¼ æ’­ç›—ç‰ˆæˆä¸ºä¸€ä»¶æ­£ä¹‰çš„äº‹ï¼Œå†µä¸”åè€…è¿˜å¯èƒ½æ˜¯çŠ¯ç½ª&lt;/p&gt;

&lt;h3 id=&quot;å…³äºåè§&quot;&gt;å…³äºåè§&lt;/h3&gt;

&lt;blockquote&gt;
  &lt;p&gt;ç°åœ¨å‡è®¾ä½ æ˜¯ä¸€ä¸ªå£°èª‰æ–ç„¶çš„å…¬å¸çš„äººäº‹ç»ç†ã€‚ä½œä¸ºå·¥ä½œçš„ä¸€éƒ¨åˆ†ï¼Œä½ å¯¹å…¨å›½è‘—åçš„å¤§å­¦å’Œå­¦é™¢çŸ¥ä¹‹ç”šå¤šï¼Œå¹¶ä¸”å¯¹æ¯•ä¸šç”Ÿçš„åŸºæœ¬æƒ…å†µäº†å¦‚æŒ‡æŒã€‚å°¤å…¶ï¼Œä½ çŸ¥é“Xå­¦é™¢åœ¨è¿™ä¸ªé¢†åŸŸå†…å£°åç‹¼è—‰ã€‚ç›®å‰ï¼Œä½ çš„å…¬å¸æ­£åœ¨æ‹›è˜ä¸€ä¸ªé‡è¦çš„èŒä½ã€‚åœ¨æµè§ˆå€™é€‰äººèµ„æ–™æ—¶ï¼Œä½ çœ‹åˆ°ä¸€ä¸ªXå­¦é™¢çš„æ¯•ä¸šç”Ÿï¼Œå½¼å¾—ï¼Œäºæ˜¯ä½ ç«‹åˆ»å†³å®šæ‹’ç»ä»–è¿›å…¥ä¸‹ä¸€è½®ï¼Œè¿™ä»…ä»…æ˜¯å› ä¸ºä»–æ‰€æ¯•ä¸šçš„å­¦æ ¡ã€‚è¿™ä¸ªæ—¶åˆ»ï¼Œä½ å·²ç»äº§ç”Ÿäº†è°¬è¯¯ã€‚&lt;/p&gt;

  &lt;p&gt;ä¸æ˜¯è¯´ä½ çš„å†³å®šå®Œå…¨ä¸åˆç†ã€‚æ¯•ç«Ÿï¼Œä»¥ä½ å¯¹Xå­¦é™¢çš„äº†è§£ï¼Œå½¼å¾—æˆ–è®¸ç¡®å®ä¸æ˜¯ä¸€ååˆæ ¼çš„äººé€‰ã€‚ä½†æ˜¯ï¼Œè¿™ä¸æ˜¯å¿…ç„¶çš„ã€‚ä¸€é¢—é—ªäº®çš„æ–°æ˜Ÿæ˜¯å¯èƒ½å‡ºè‡ªäºç±»ä¼¼Xå­¦é™¢ä¹‹ç±»çš„å­¦æ ¡çš„ã€‚ä½ æ‰€çŠ¯è°¬è¯¯çš„æ ¹æºå¦‚ä¸‹ï¼šçŸ¥é“ä¸€ä¸ªæ¥æºä¸€èˆ¬æ˜¯åçš„ï¼Œäºæ˜¯è®¤å®šå‡ºäºè¿™ä¸ªæ¥æºçš„æ‰€æœ‰éƒ½ä¸€å®šæ˜¯åçš„ã€‚è¿™å¹¶ä¸å¿…ç„¶æˆç«‹ã€‚&lt;/p&gt;

  &lt;p&gt;è€ƒè™‘æˆ‘ä»¬æ‰€è€ƒå¯Ÿçš„äººæˆ–äº‹çš„å‡ºèº«è‚¯å®šæ˜¯å¿…è¦çš„ã€‚ä½†æ˜¯æˆ‘ä»¬å¿…é¡»èµ°å¾—æ›´è¿œã€‚é¦–å…ˆæˆ‘ä»¬è¦é—®ï¼šå½¼å¾—ä»å“ªé‡Œæ¥ï¼Ÿç´§æ¥ç€ï¼Œæ›´å…³é”®çš„é—®é¢˜æ˜¯ï¼šä»–çš„å“è´¨å¦‚ä½•ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æ— æ„è¯†åè§æ™®éå­˜åœ¨ï¼Œå¹¶å®å®åœ¨åœ¨åœ°å½±å“ç€æˆ‘ä»¬çš„ç”Ÿæ´»å’Œå·¥ä½œã€‚é™¤äº†å¸¸è§çš„å¯¹æ€§åˆ«ã€å¤–è²Œç‰¹å¾çš„è´Ÿé¢åè§å¤–ï¼Œè¿˜å­˜åœ¨ç€ä¸€äº›æˆ‘ä»¬åŒæ ·æ²¡æ„è¯†åˆ°çš„æ­£é¢åè§ï¼Œä¾‹å¦‚å¯èƒ½å¾ˆéš¾ç†è§£ä¸ºä»€ä¹ˆé‡ç‚¹å¤§å­¦å­¦ç”Ÿä¹Ÿä¼šæœ‰å·å¤–å–ã€ç§å å…±äº«å•è½¦ä¹‹ç±»çš„ä½ç´ è´¨è¡Œä¸ºï¼Œäº‹å®ä¸Šä¸€ä¸ªå­¦ç”Ÿèƒ½ä¸Šå¥½å¤§å­¦çš„ä¸»è¦åŸå› å°±æ˜¯é«˜è€ƒæˆç»©å¥½ï¼Œä¸æ˜¯ç´ è´¨æˆ–è€…åˆ«çš„ä»€ä¹ˆï¼Œå½“ç„¶æˆç»©å¥½çš„å­¦ç”Ÿä¹Ÿæœ‰å¯èƒ½ä¼šåŒæ—¶å—åˆ°äº†æ›´å¥½çš„äººæ–‡æ•™è‚²ã€è¯»äº†æ›´å¤šçš„ä¹¦ï¼Œä½†é‡ç‚¹å¤§å­¦å­¦ç”Ÿè¿™ä¸ªèº«ä»½å¹¶ä¸è¶³ä»¥å€’æ¨å‡ºè¿™äº›ï¼Œæ‰€ä»¥ä¹Ÿå°±å¯ä»¥ç†è§£é‚£äº›ä½ç´ è´¨è¡Œä¸ºçš„å‡ºç°äº†&lt;/p&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="thought" />
      

      
        <summary type="html">æœ€è¿‘è¯»äº†ä¸€æœ¬å…³äºé€»è¾‘çš„å°ä¹¦ã€Šç®€å•çš„é€»è¾‘å­¦ã€‹ã€‚è¿™æœ¬ä¹¦åœ¨è±†ç“£ä¸Šè¤’è´¬ä¸ä¸€ï¼Œæˆ‘è§‰å¾—æœ‰ä¸€éƒ¨åˆ†åŸå› æ˜¯ä¹¦åçš„ç¿»è¯‘ï¼Œå®ƒä¸æ˜¯ä¸€æœ¬ä¸¥è‚ƒçš„é€»è¾‘å­¦æ•™ç§‘ä¹¦ï¼Œè€Œæ˜¯â€œä¸€æœ¬ç°å®åº”ç”¨æŒ‡å—ï¼Œå‘é‚£äº›åˆæ¬¡æ¥è§¦é€»è¾‘å­¦çš„äººä»‹ç»é€»è¾‘å­¦çš„åŸºæœ¬åŸç†â€ï¼ŒåŸä¹¦åâ€œBeing Logical: A Guide to Good Thinkingâ€æ›´è´´åˆ‡åœ°æè¿°äº†å®ƒçš„å†…å®¹ã€‚åœ¨æˆ‘çœ‹æ¥ï¼Œå­¦ä¹ é€»è¾‘æ›´å¤šçš„æ˜¯å…³äºå¦‚ä½•æ€è€ƒå’Œçœ‹å¾…äº‹ç‰©ï¼›æ›´å¤šå…³äºè¯´æœè‡ªå·±ï¼Œè€Œä¸æ˜¯è¯´æœåˆ«äººï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œè¿™æœ¬ä¹¦æ˜¯æœ‰æ‰€å¯å‘çš„</summary>
      

      
      
    </entry>
  
  
  
    <entry>
      
      <title type="html">Xv6 ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè°ƒåº¦</title>
      
      
      <link href="/2020/05/11/xv6-note-2/" rel="alternate" type="text/html" title="Xv6 ç¬”è®°ï¼ˆäºŒï¼‰ï¼šè°ƒåº¦" />
      
      <published>2020-05-11T00:00:00+00:00</published>
      <updated>2020-05-11T00:00:00+00:00</updated>
      <id>/2020/05/11/xv6-note-2</id>
      <content type="html" xml:base="/2020/05/11/xv6-note-2/">&lt;p&gt;æ“ä½œç³»ç»Ÿçš„ä¸€é¡¹ä¸»è¦å·¥ä½œæ˜¯åœ¨å¤šä¸ªç¨‹åºé—´å…±äº«è®¡ç®—æœºçš„èµ„æºï¼Œè®©å®ƒä»¬å¯ä»¥åŒæ—¶ï¼ˆæˆ–çœ‹èµ·æ¥åƒåŒæ—¶ï¼‰è¿è¡Œã€‚ç¨‹åºæ˜¯åœ¨è¿›ç¨‹ä¸­æ‰§è¡Œçš„ï¼ŒåŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºå®é™…ä¸Šå°±æ˜¯åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹å¾€å¾€æ¯” CPU å¤šï¼Œæ‰€ä»¥å°±éœ€è¦ä¸€ä¸ªæœºåˆ¶æ¥è®©å¤šä¸ªè¿›ç¨‹é—´åˆ†æ—¶å…±äº« CPUï¼ˆtime-sharingï¼‰&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;ç†æƒ³æƒ…å†µä¸‹ï¼Œè¿™ç§å…±äº«å¯¹ç”¨æˆ·è¿›ç¨‹åº”è¯¥æ˜¯é€æ˜çš„ã€‚ä¸€ç§å¸¸è§çš„æ–¹æ³•æ˜¯é€šè¿‡å°†æ¯ä¸ªè¿›ç¨‹å¤šè·¯å¤ç”¨ï¼ˆmultiplexingï¼‰åˆ°ç¡¬ä»¶ CPU ä¸Šï¼Œä»è€Œä¸ºæ¯ä¸ªè¿›ç¨‹æä¾›å®ƒä»¬æ‹¥æœ‰è‡ªå·±çš„è™šæ‹Ÿ CPU çš„é”™è§‰ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œéœ€è¦ CPU åœ¨åˆ‡æ¢è¿›ç¨‹å‰ï¼Œå…ˆè®°ä¸‹æ—§è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ï¼ˆæˆ–è€…å«ä¸Šä¸‹æ–‡ï¼‰ï¼Œç­‰åˆ°ä¸‹æ¬¡å®ƒè¢«å”¤é†’æ—¶ï¼Œå†æŠŠä¹‹å‰çš„è¿è¡ŒçŠ¶æ€æ¢å¤å›æ¥ï¼Œç»§ç»­æ‰§è¡Œåˆ‡æ¢å‰è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œå°±å¥½åƒæ²¡æœ‰å‘ç”Ÿè¿‡åˆ‡æ¢ä¸€æ ·ã€‚è¿™é‡Œçš„ä¸Šä¸‹æ–‡å°±æ˜¯è¿›ç¨‹ï¼ˆæˆ–è€…è¯´çº¿ç¨‹ï¼Œxv6 æœªæ”¯æŒå¤šçº¿ç¨‹ï¼‰çš„å¯„å­˜å™¨ã€‚ä¿å­˜å’Œæ¢å¤ SP å’Œ PC å¯„å­˜å™¨å°±æ„å‘³ç€ CPU åˆ‡æ¢äº†æ ˆå’Œæ­£åœ¨æ‰§è¡Œçš„ä»£ç &lt;/p&gt;

&lt;p style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;/assets/xv6-note-2/image-20200501112421478.png&quot; alt=&quot;image-20200501112421478&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šå›¾ç®€å•æè¿°äº†ç”¨æˆ·è¿›ç¨‹åˆ‡æ¢çš„è¿‡ç¨‹ï¼š1. æ—§ç”¨æˆ·è¿›ç¨‹é€šè¿‡ç³»ç»Ÿè°ƒç”¨æˆ–ä¸­æ–­åˆ‡æ¢åˆ°å®ƒçš„å†…æ ¸çº¿ç¨‹ï¼›2. ä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆswtchï¼‰åˆ° CPU çš„è°ƒåº¦å™¨ï¼ˆschedulerï¼‰çº¿ç¨‹ï¼›3. åˆä¸€æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°æ–°è¿›ç¨‹çš„å†…æ ¸çº¿ç¨‹ï¼›4. ä»æ–°çº¿ç¨‹çš„å†…æ ¸ç©ºé—´å›åˆ°ç”¨æˆ·ç©ºé—´ç»§ç»­æ‰§è¡Œã€‚æ¯ä¸ª CPU éƒ½æœ‰è‡ªå·±çš„è°ƒåº¦å™¨çº¿ç¨‹ï¼Œå®ƒå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå¯„å­˜å™¨å€¼å’Œæ ˆçš„ç»„åˆï¼Œåœ¨è¿›ç¨‹åˆ‡æ¢è¿‡ç¨‹ä¸­æ¢å¤å’Œä¿å­˜ã€‚åœ¨å•ç‹¬çš„çº¿ç¨‹åšè¿™ä»¶äº‹æœ‰åŠ©äºæŠ½è±¡å’Œç®€åŒ–è°ƒåº¦é€»è¾‘ï¼Œå¦‚æœåœ¨æ—§è¿›ç¨‹çš„é‡Œåšè°ƒåº¦ï¼Œå…¶ä»– CPU å”¤é†’æ—§è¿›ç¨‹æ—¶ä¼šç»§ç»­æ‰§è¡Œ swtch ä¹‹åçš„ä»£ç ï¼Œè¿™æ—¶è¿›ç¨‹çš„æ ˆè¿˜æ˜¯å‰ä¸€ä¸ª CPU è°ƒåº¦ç•™ä¸‹çš„ï¼Œä¸¤ä¸ªæ ¸ä½¿ç”¨åŒä¸€ä¸ªæ ˆå¯èƒ½ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜&lt;/p&gt;

&lt;p&gt;Xv6 åœ¨ä¸¤ç§æƒ…å†µä¸‹ä¼šæŠŠ CPU ä»ä¸€ä¸ªè¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªï¼š1. Xv6 ä¼šå®šæ—¶å¼ºåˆ¶åˆ‡æ¢é•¿æ—¶é—´è¿è¡Œçš„è¿›ç¨‹ï¼›2. è¿›ç¨‹é€šè¿‡ sleep/wakeup æœºåˆ¶ä¸»åŠ¨è¿›å…¥ç­‰å¾…ï¼ˆè®¾å¤‡/IO/å­è¿›ç¨‹é€€å‡ºä¹‹ç±»çš„ï¼‰&lt;/p&gt;

&lt;p&gt;å‰è€…æ˜¯ç”±å®šæ—¶å™¨ä¸­æ–­è§¦å‘çš„ï¼Œå®šæ—¶å™¨ä¸­æ–­æºäºä¸æ¯ä¸ª RISC-V CPU å…³è”çš„æ—¶é’Ÿç¡¬ä»¶ï¼Œxv6 åœ¨å¯åŠ¨æ—¶ä¼šåœ¨æœºå™¨æ¨¡å¼ä¸‹ä¿®æ”¹ CLINT ç¡¬ä»¶ï¼ˆcore-local interruptorï¼‰ï¼Œç”Ÿæˆä¸€ä¸ªåœ¨ä¸€å®šå»¶è¿Ÿåè§¦å‘çš„ä¸­æ–­ï¼Œå¹¶é…ç½®ä¸­æ–­å¤„ç†ç¨‹åºå’Œç›¸å…³å¯„å­˜å™¨ï¼Œå¼€å¯ä¸­æ–­å¼€å…³ã€‚ç»è¿‡æŒ‡å®šå»¶æ—¶ä¹‹åï¼Œç¡¬ä»¶ç”Ÿæˆçš„ä¸­æ–­ä¼šå›è°ƒåˆ°å®šæ—¶å™¨ä¸­æ–­å¤„ç†ç¨‹åºï¼ˆtimervecï¼‰ï¼Œåè€…å†æ¬¡ä¿®æ”¹ CLINT ç¡¬ä»¶æ¥é…ç½®ä¸‹ä¸€æ¬¡ä¸­æ–­ï¼Œç„¶åå‘å†…æ ¸æŠ›ä¸€ä¸ªè½¯ä»¶ä¸­æ–­å¹¶è¿”å›ã€‚è¿™é‡Œä¹‹æ‰€ä»¥ä¸ç›´æ¥æŠŠæ—¶é—´ä¸­æ–­äº¤ç»™å†…æ ¸å¤„ç†æ˜¯å› ä¸º RISC-V è¦æ±‚å®šæ—¶å™¨ä¸­æ–­åªèƒ½åœ¨æœºå™¨æ¨¡å¼é…ç½®å’Œæ¥æ”¶ï¼Œè¿è¡Œåœ¨ç®¡ç†å‘˜æ¨¡å¼çš„å†…æ ¸æ— æ³•ç¦ç”¨å®ƒï¼Œä½†è½¯ä»¶ä¸­æ–­æ˜¯å¯ä»¥ç¦ç”¨çš„ï¼Œæ‰€ä»¥æŠ›è½¯ä»¶ä¸­æ–­å¯ä»¥è®©å†…æ ¸è‡ªè¡Œé…ç½®æ˜¯å½“å‰æ˜¯å¦å¤„ç†ä¸­æ–­ï¼Œä»¥å…å…³é”®æ“ä½œè¢«æ„å¤–æ‰“æ–­&lt;/p&gt;

&lt;p&gt;æŠ›å‡ºçš„è½¯ä»¶ä¸­æ–­åå†…æ ¸æˆ–ç”¨æˆ·è¿›ç¨‹é€šè¿‡ trap æœºåˆ¶æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç ï¼Œè½¬è€Œèµ°åˆ°ç›¸åº”çš„å¤„ç†ç¨‹åºï¼Œä¸­æ–­å¤„ç†ç¨‹åºä»ç‰¹å®šå¯„å­˜å™¨è¯»åˆ°æ˜¯å®šæ—¶å™¨ä¸­æ–­ï¼Œä¾¿è°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;yield&lt;/code&gt; æš‚åœæ‰§è¡Œã€é‡Šæ”¾ CPUï¼Œä»è€Œè¿›å…¥è°ƒåº¦é€»è¾‘&lt;/p&gt;

&lt;p&gt;&lt;em&gt;åœ¨ä¸‰ç§æƒ…å†µä¸‹ä¸€äº›äº‹ä»¶ä¼šå¯¼è‡´ CPU æç½®æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤åºåˆ—ï¼Œå¼ºåˆ¶è½¬å‘æ‰§è¡Œç”¨äºå¤„ç†è¯¥äº‹ä»¶çš„ç‰¹æ®Šä»£ç ï¼š1. system callï¼Œç”¨æˆ·ç¨‹åºé€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;ecall&lt;/code&gt; è°ƒç”¨å†…æ ¸æœåŠ¡ï¼Œå¼•èµ· CPU ä»ç”¨æˆ·æ¨¡å¼è½¬å‘ç®¡ç†å‘˜æ¨¡å¼æ‰§è¡Œå†…æ ¸ä»£ç ï¼›2. exceptionï¼Œç”¨æˆ·æˆ–å†…æ ¸æ‰§è¡Œäº†éæ³•æŒ‡ä»¤ï¼ˆé™¤ä»¥ 0ã€è®¿é—®éæ³•åœ°å€ç­‰ï¼‰ï¼ŒæŠ›å‡ºå¼‚å¸¸ï¼›3. è®¾å¤‡ä¸­æ–­ï¼Œç¡¬ä»¶è®¾å¤‡æ‰§è¡Œå®Œè¯»å†™ç­‰æ“ä½œæ—¶ä¼šè§¦å‘æ¥å¼•èµ·å…³æ³¨ã€‚è¿™å‡ ç§æƒ…å†µç»Ÿç§°ä¸º trapï¼Œå¤„ç†ä¸­æ–­çš„ç‰¹æ®Šä»£ç ä¸º trap handler&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;ä¸Šä¸‹æ–‡åˆ‡æ¢æœºåˆ¶å¯ä»¥è®©ä¸­æ–­å’Œè¿›ç¨‹åˆ‡æ¢å¯¹ç”¨æˆ·è¿›ç¨‹é€æ˜ï¼Œä½†è¿˜æ˜¯éœ€è¦æœ‰ä¸€ç§æœºåˆ¶æ¥è®©è¿›ç¨‹èƒ½ä¸»åŠ¨è®©å‡º CPUï¼Œè¿›å…¥ç­‰å¾…è¢«æŸäº›äº‹ä»¶å”¤é†’çš„çŠ¶æ€ï¼Œä¾‹å¦‚ console ç¨‹åºå¯ä»¥åœ¨ç”¨æˆ·æ²¡æœ‰è¾“å…¥è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œè®© CPU å…ˆæ‰§è¡Œå…¶ä»–è¿›ç¨‹ï¼Œåœ¨æ”¶åˆ°ç”¨æˆ·è¾“å…¥çš„äº‹ä»¶åå†è¢«å”¤é†’å’Œå¤„ç†è¾“å…¥çš„å­—ç¬¦ã€‚Xv6 é‡Œå®ç°è¿™ä¸€æœºåˆ¶çš„æ˜¯ sleep å’Œ wakeupï¼Œä¹Ÿå¸¸å«æ¡ä»¶åŒæ­¥ï¼ˆconditional synchronizationï¼‰ã€‚è¿›ç¨‹ sleep æ—¶ç›‘å¬çš„æ¡ä»¶æˆ–äº‹ä»¶ç§°ä¸º sleep channelï¼ˆå†…æ ¸é‡Œçš„ sleep  channel é€šå¸¸æ˜¯æŸäº›æ•°æ®ç»“æ„çš„å†…å­˜åœ°å€ï¼‰ï¼Œä¾‹å¦‚å½“ç”¨æˆ·ç”¨é”®ç›˜è¾“å…¥çš„å­—ç¬¦æ—¶ï¼Œxv6 ä¼šæ”¶åˆ°ä¸€ä¸ª RISC-V çš„è®¾å¤‡ä¸­æ–­ï¼Œæ£€æŸ¥å‘ç°æ˜¯æ¥æºæ˜¯ç”¨æˆ·è¾“å…¥åå°±ä»ç‰¹å®šçš„ç‰©ç†åœ°å€è¯»å–è¾“å…¥çš„å­—ç¬¦ï¼Œæ·»åŠ åˆ° console çš„è¾“å…¥å­—ç¬¦ buffer é‡Œå¹¶é€šè¿‡ç›‘å¬çš„ channel å”¤é†’ console&lt;/p&gt;

&lt;p&gt;å¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶ç›‘å¬åŒä¸€ä¸ª channelï¼Œæ¡ä»¶è§¦å‘æ—¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;wakeup&lt;/code&gt; ä¼šæŠŠæ‰€æœ‰æ­£åœ¨ç›‘å¬çš„è¿›ç¨‹è®¾ä¸ºå¯è¿è¡ŒçŠ¶æ€ï¼Œç„¶åç”±è°ƒåº¦æœºåˆ¶æ¥æŠŠå®ƒä»¬å”¤é†’ã€‚å¦‚æœå”¤é†’çš„æ¡ä»¶æ˜¯æŸäº›èµ„æºï¼ˆä¾‹å¦‚ pipeï¼‰ï¼Œåªèƒ½è¢«ä½¿ç”¨ä¸€æ¬¡ï¼Œé‚£ä¹ˆè¿™ä¸€èµ„æºåªæœ‰ç¬¬ä¸€ä¸ªæ“ä½œç³»ç»Ÿè¢«å”¤é†’çš„è¿›ç¨‹èƒ½æ¶ˆè´¹åˆ°ï¼Œåè¢«å”¤é†’çš„å…¶ä»–è¿›ç¨‹ä¼šå‘ç°æ¡ä»¶ä¸æ»¡è¶³ï¼ˆèµ„æºæ²¡æœ‰äº†ï¼‰ï¼Œå”¤é†’åªæ˜¯ä¸€ä¸ªâ€œè¯¯ä¼šâ€ï¼Œä¾¿å†æ¬¡è¿›å…¥ç¡çœ å’Œç­‰å¾…ï¼Œè¿™ä¸€ç°è±¡å«åšæƒŠç¾¤é—®é¢˜ï¼ˆ&lt;a href=&quot;https://en.wikipedia.org/wiki/Thundering_herd_problem&quot;&gt;thundering herd problem&lt;/a&gt;ï¼‰ï¼Œå¤§é‡è¿›ç¨‹è¢«è¯¯å”¤é†’åå†è¿›å…¥ sleep ä¼šå¯¼è‡´å¤§é‡ CPU èµ„æºè¢«æµªè´¹åœ¨ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸Šã€‚è§£å†³é—®é¢˜çš„ä¸€ç§åŠæ³•æ˜¯æŠŠéœ€è¦å’Œä¸éœ€è¦å”¤é†’æ‰€æœ‰ç­‰å¾…è¿›ç¨‹çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;wakeup&lt;/code&gt; è°ƒç”¨æ˜ç¡®åŒºåˆ†æˆä¸¤ä¸ªå‡½æ•°ï¼Œåœ¨åªéœ€è¦å”¤é†’ä¸€ä¸ªè¿›ç¨‹çš„åœºæ™¯ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;signal&lt;/code&gt;ï¼Œéœ€è¦å”¤é†’å¤šä¸ªè¿›ç¨‹çš„ç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;broadcast&lt;/code&gt;ï¼›å¦ä¸€ç§æ€è·¯æ˜¯ç”¨ä¿¡å·é‡ï¼Œæ˜ç¡®æŒ‡å‡ºæœ‰å¤šå°‘èµ„æºæˆ–å”¤é†’æ¬¡æ•°å¯ç”¨&lt;/p&gt;

&lt;p&gt;ä½¿ç”¨ sleep/wakeup æœºåˆ¶çš„å¦ä¸€ä¸ªä¾‹å­æ˜¯å¦ä¸€å¯¹ä¸è°ƒåº¦ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;wait&lt;/code&gt; å’Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;exit&lt;/code&gt;ã€‚å‰è€…ç”¨äºç­‰å¾…å­è¿›ç¨‹é€€å‡ºï¼Œè°ƒç”¨åä¼šä»¥å½“å‰è¿›ç¨‹æ•°æ®ç»“æ„çš„åœ°å€ä¸º sleep channel è¿›å…¥ç¡çœ çŠ¶æ€ï¼›åè€…ä¾›è¿›ç¨‹ä¸»åŠ¨ç»ˆæ­¢è¿è¡Œï¼Œè¿›ç¨‹ç»“æŸè¿è¡Œåå†…æ ¸ä¼šå°è¯•ç”¨çˆ¶è¿›ç¨‹çš„åœ°å€ä½œä¸º channel wakeupï¼Œè¿™æ ·å¦‚æœæœ‰çˆ¶è¿›ç¨‹åœ¨ç­‰å¾…å­è¿›ç¨‹é€€å‡ºï¼Œå°±ä¼šè¢«å”¤é†’å¹¶æ”¶åˆ°å­è¿›ç¨‹çš„é€€å‡ºçŠ¶æ€ç &lt;/p&gt;

&lt;p&gt;Xv6 åœ¨è°ƒåº¦è¿›ç¨‹æ—¶é‡‡ç”¨çš„åªæ˜¯ç®€å•çš„è½®è¯¢æ–¹æ¡ˆï¼ˆéå†è¿›ç¨‹è¡¨æ‰¾åˆ°ä¸€ä¸ªå¯è¿è¡Œçš„è¿›ç¨‹ç„¶åè¿è¡Œå®ƒï¼‰ï¼Œç°å®ä¸­çš„æ“ä½œç³»ç»Ÿå¾€å¾€ä¼šæœ‰æ›´å®Œå–„çš„è°ƒåº¦æ–¹æ¡ˆæ¥æ»¡è¶³å®é™…éœ€æ±‚ï¼Œä¾‹å¦‚å¼•å…¥è¿›ç¨‹ä¼˜å…ˆçº§çš„æ¦‚å¿µï¼ŒåŒæ—¶ä¸ºäº†ç¡®ä¿å…¬å¹³ï¼ˆä½ä¼˜å…ˆçº§è¿›ç¨‹ä¹Ÿèƒ½å¾—åˆ°æ‰§è¡Œï¼‰å’Œé«˜ååé‡ï¼Œæ–¹æ¡ˆè¿˜ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œå¯¼è‡´å‡ºç°ä¼˜å…ˆçº§åè½¬ï¼ˆ&lt;a href=&quot;https://en.wikipedia.org/wiki/Priority_inversion&quot;&gt;priority inversion&lt;/a&gt;ï¼Œé«˜ä¼˜è¿›ç¨‹ç­‰å¾…ä½ä¼˜è¿›ç¨‹é‡Šæ”¾å®ƒæŒæœ‰çš„èµ„æºï¼Œä½†ä½ä¼˜è¿›ç¨‹åˆå¾—ä¸åˆ° CPU èµ„æºæ¥å®Œæˆæ‰§è¡Œï¼‰ã€é”å·¡èˆªï¼ˆ&lt;a href=&quot;https://en.wikipedia.org/wiki/Lock_convoy&quot;&gt;lock convoy&lt;/a&gt;ï¼Œå¤šä¸ªé«˜ä¼˜è¿›ç¨‹ç­‰å¾…ä½ä¼˜è¿›ç¨‹é‡Šæ”¾èµ„æºï¼ŒCPU èµ„æºä¼šä¸€ç›´è¢«æµªè´¹åœ¨é«˜ä¼˜è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸­ï¼‰ç­‰é—®é¢˜ï¼Œè§£å†³è¿™äº›é—®é¢˜åˆè¿›ä¸€æ­¥å¢åŠ äº†è°ƒåº¦æœºåˆ¶çš„å¤æ‚åº¦&lt;/p&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="os" />
      
        <category term="xv6" />
      

      
        <summary type="html">æ“ä½œç³»ç»Ÿçš„ä¸€é¡¹ä¸»è¦å·¥ä½œæ˜¯åœ¨å¤šä¸ªç¨‹åºé—´å…±äº«è®¡ç®—æœºçš„èµ„æºï¼Œè®©å®ƒä»¬å¯ä»¥åŒæ—¶ï¼ˆæˆ–çœ‹èµ·æ¥åƒåŒæ—¶ï¼‰è¿è¡Œã€‚ç¨‹åºæ˜¯åœ¨è¿›ç¨‹ä¸­æ‰§è¡Œçš„ï¼ŒåŒæ—¶è¿è¡Œå¤šä¸ªç¨‹åºå®é™…ä¸Šå°±æ˜¯åŒæ—¶è¿è¡Œå¤šä¸ªè¿›ç¨‹ã€‚è¿›ç¨‹å¾€å¾€æ¯” CPU å¤šï¼Œæ‰€ä»¥å°±éœ€è¦ä¸€ä¸ªæœºåˆ¶æ¥è®©å¤šä¸ªè¿›ç¨‹é—´åˆ†æ—¶å…±äº« CPUï¼ˆtime-sharingï¼‰</summary>
      

      
      
    </entry>
  
  
  
    <entry>
      
      <title type="html">Xv6 ç¬”è®°ï¼ˆä¸€ï¼‰ï¼šéš”ç¦»</title>
      
      
      <link href="/2020/04/21/xv6-note-1/" rel="alternate" type="text/html" title="Xv6 ç¬”è®°ï¼ˆä¸€ï¼‰ï¼šéš”ç¦»" />
      
      <published>2020-04-21T00:00:00+00:00</published>
      <updated>2020-04-21T00:00:00+00:00</updated>
      <id>/2020/04/21/xv6-note-1</id>
      <content type="html" xml:base="/2020/04/21/xv6-note-1/">&lt;p&gt;å½“ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰§è¡Œå‡ºé”™æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ“ä½œç³»ç»Ÿæˆ–å…¶ä»–ä¸ç›¸å…³çš„ç¨‹åºå› æ­¤ä¹Ÿå‡ºé”™ï¼Œç›¸åï¼Œæ“ä½œç³»ç»Ÿåº”è¯¥è¦èƒ½å‘ç°å¹¶æ¸…ç†æ‰å‡ºé”™çš„ç¨‹åºï¼Œå¹¶ç»§ç»­è¿è¡Œå…¶ä»–ç¨‹åºã€‚è¦å®ç°æœ‰æ•ˆçš„éš”ç¦»é¦–å…ˆè¦æ±‚æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºä¹‹é—´æœ‰æ˜ç¡®çš„ç•Œé™ï¼Œæ™®é€šç¨‹åºä¸èƒ½å†™ï¼ˆç”šè‡³è¯»ï¼‰ç³»ç»Ÿçš„æ•°æ®ç»“æ„å’ŒæŒ‡ä»¤ï¼Œä¹Ÿä¸èƒ½è®¿é—®å…¶ä»–è¿›ç¨‹çš„å†…å­˜&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;CPU ä¸ºéš”ç¦»æä¾›äº†ç¡¬ä»¶ä¸Šçš„æ”¯æŒã€‚ä¾‹å¦‚ RISC-V æŒ‡ä»¤é›†æä¾›äº†ä¸‹åˆ—ä¸‰ç§æŒ‡ä»¤æ‰§è¡Œæ¨¡å¼ï¼š&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æœºå™¨æ¨¡å¼ï¼ˆmachine modeï¼‰ï¼šæœ‰å®Œæ•´çš„æ‰§è¡Œæƒé™ï¼Œä¸»è¦ç”¨äºå¯åŠ¨æ—¶åˆå§‹åŒ–è®¡ç®—æœºé…ç½®&lt;/li&gt;
  &lt;li&gt;ç®¡ç†å‘˜æ¨¡å¼ï¼ˆsupervisor modeï¼‰ï¼šå¯ä»¥æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼ˆprivileged instructionï¼‰ï¼Œä¾‹å¦‚å¼€å…³ä¸­æ–­ã€è¯»å†™ä¸€äº›ç‰¹å®šçš„å¯„å­˜å™¨ç­‰ã€‚å¦‚æœè¿è¡Œåœ¨ç”¨æˆ·æ¨¡å¼ä¸‹çš„æ‰§è¡Œç‰¹æƒæŒ‡ä»¤ï¼ŒCPU ä¸ä¼šæ‰§è¡Œï¼Œè€Œæ˜¯ä¼šåˆ‡åˆ°ç®¡ç†å‘˜æ¨¡å¼å¹¶åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹æ€æ‰è¯•å›¾è¶Šç•Œçš„ç¨‹åºã€‚è¿è¡Œåœ¨ç®¡ç†å‘˜æ¨¡å¼ï¼ˆæˆ–è€…è¯´å†…æ ¸ç©ºé—´ï¼‰çš„è½¯ä»¶ç§°ä¸ºå†…æ ¸&lt;/li&gt;
  &lt;li&gt;ç”¨æˆ·æ¨¡å¼ï¼ˆuser modeï¼‰ï¼šç¨‹åºä»£ç åªèƒ½æ‰§è¡Œç”¨æˆ·æ¨¡å¼æŒ‡ä»¤ï¼ŒCPU æä¾›äº† &lt;code class=&quot;highlighter-rouge&quot;&gt;ecall&lt;/code&gt; æŒ‡ä»¤æ¥è®©ç”¨æˆ·æ¨¡å¼ä¸‹çš„ç¨‹åºåˆ‡æ¢åˆ°ç®¡ç†å‘˜æ¨¡å¼å¹¶è¿›å…¥å†…æ ¸æŒ‡å®šçš„å…¥å£&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Xv6 æ•´ä¸ªæ“ä½œç³»ç»Ÿè¿è¡Œéƒ½åœ¨ç®¡ç†å‘˜æ¨¡å¼ä¸‹ï¼ˆ&lt;a href=&quot;http://en.wikipedia.org/wiki/Monolithic_kernel&quot;&gt;å®å†…æ ¸&lt;/a&gt;ï¼‰ï¼Œè€Œæ™®é€šç¨‹åºåªèƒ½è¿è¡Œåœ¨ç”¨æˆ·æ¨¡å¼ï¼Œè¿™æ ·ï¼Œ&lt;strong&gt;é€šè¿‡ CPU æŒ‡ä»¤æ‰§è¡Œæ¨¡å¼çš„é™åˆ¶å°±å¯ä»¥ç¡®ä¿ç³»ç»Ÿå’Œç¨‹åºé—´çš„éš”ç¦»&lt;/strong&gt;ï¼Œç¨‹åºåªèƒ½é€šè¿‡å†…æ ¸æä¾›çš„ç³»ç»Ÿè°ƒç”¨æ¥å£ä½¿ç”¨å†…æ ¸æä¾›çš„æœåŠ¡ï¼Œä¾‹å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;fork&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;read&lt;/code&gt;ã€&lt;code class=&quot;highlighter-rouge&quot;&gt;wirte&lt;/code&gt; ç­‰ï¼Œå†…æ ¸å¯ä»¥å…ˆæ£€æŸ¥ç¡®ä¿å‚æ•°å’Œç¨‹åºæƒé™åˆæ³•ï¼Œå†çœŸæ­£è°ƒç”¨æœåŠ¡&lt;/p&gt;

&lt;p style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;/assets/xv6-note-1/image-20200418232330934.png&quot; alt=&quot;system call&quot; style=&quot;zoom: 50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å’Œå…¶å®ƒ Unix æ“ä½œç³»ç»Ÿä¸€æ ·ï¼Œè¿›ç¨‹ä¹Ÿæ˜¯ xv6 çš„åŸºæœ¬éš”ç¦»å•ä½ã€‚ä¸ºå¸®åŠ©å®ç°ç¨‹åºé—´éš”ç¦»ï¼Œè¿›ç¨‹æœºåˆ¶ä¸ºæ¯ä¸ªç¨‹åºåˆ¶é€ äº†å®ƒæœ‰ä¸€æ•´å°ç§æœ‰è®¡ç®—æœºçš„å‡è±¡ï¼Œç¨‹åºâ€æ‹¥æœ‰â€œä¸€ä¸ªç§æœ‰çš„å†…å­˜ç³»ç»Ÿï¼ˆæˆ–è€…å«åœ°å€ç©ºé—´ï¼‰å’Œä¸€ä¸ªå•ç‹¬çš„ CPU æ¥æ‰§è¡Œå®ƒçš„æŒ‡ä»¤ã€‚å‰è€…é€šè¿‡ç¡¬ä»¶æä¾›çš„&lt;strong&gt;é¡µè¡¨&lt;/strong&gt;å®ç°ï¼ŒRISC-V ä½¿ç”¨é¡µè¡¨æŠŠè™šæ‹Ÿåœ°å€ï¼ˆRISC-V æŒ‡ä»¤æ“ä½œçš„åœ°å€ï¼‰æ˜ å°„åˆ°ç‰©ç†å†…å­˜çš„åœ°å€ä¸Šï¼Œxv6 ä¸ºæ¯ä¸ªè¿›ç¨‹ç»´æŠ¤ç‹¬ç«‹çš„é¡µè¡¨ï¼Œæ„æˆè¿›ç¨‹çš„åœ°å€ç©ºé—´&lt;/p&gt;

&lt;p&gt;Xv6 æ‰€è¿è¡Œçš„ Sv39 æ¨¡å¼ä½¿ç”¨ 39 ä½çš„è™šæ‹Ÿåœ°å€ï¼ˆ64 ä½åœ°å€çš„å‰ 25 ä½æœªä½¿ç”¨ï¼‰ï¼Œåœ°å€è¢«åˆ†ä¸ºä¸‰ä¸ª 9 ä½çš„ VPNï¼ˆvirtual page numberï¼‰å’Œä¸€ä¸ª 12 ä½çš„é¡µåç§»é‡&lt;/p&gt;

&lt;p style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;/assets/xv6-note-1/image-20200419144315632.png&quot; alt=&quot;Sv39 virtual address&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;å­˜å‚¨åœ¨ç‰©ç†å†…å­˜ä¸­çš„é¡µè¡¨æ˜¯ä¸€æ£µä¸‰å±‚çš„æ ‘ï¼Œæ ‘çš„æ ¹èŠ‚ç‚¹æ˜¯ä¸€ä¸ª 4096 å­—èŠ‚çš„é¡µè¡¨é¡µï¼ˆå¤§å°ä¸ç‰©ç†å†…å­˜ä¸­çš„é¡µå¯¹é½ï¼‰ï¼ŒåŒ…å« 2&lt;sup&gt;9&lt;/sup&gt; ä¸ª 8 å­—èŠ‚çš„ PTEï¼ˆpage table entryï¼‰ï¼Œæ¯ä¸ª PTE åŒ…å«æŒ‡å‘ä¸‹ä¸€å±‚é¡µè¡¨é¡µçš„ç‰©ç†åœ°å€ï¼ˆå’Œä½ 10 ä½æè¿° PTE ä¿¡æ¯çš„æ ‡è®°ä½ï¼‰ï¼Œç¬¬äºŒå±‚çš„æ¯ä¸ªé¡µè¡¨é¡µåˆåŒ…å« 2&lt;sup&gt;9&lt;/sup&gt; ä¸ªæŒ‡å‘ç¬¬ä¸‰å±‚é¡µè¡¨é¡µçš„ PTEã€‚é¡µè¡¨ç¡¬ä»¶ä½¿ç”¨è™šæ‹Ÿåœ°å€çš„é«˜ä¹ä½ VPN[2] ä½œä¸ºç´¢å¼•ä»æ ¹èŠ‚ç‚¹å¾—åˆ°ä¸€ä¸ªæŒ‡å‘ç¬¬äºŒå±‚é¡µè¡¨é¡µçš„åœ°å€ï¼Œç„¶åç”¨ VPN[1] ä»ç¬¬äºŒå±‚è·å–ç¬¬ä¸‰å±‚é¡µè¡¨é¡µçš„åœ°å€ï¼Œæœ€åé€šè¿‡ VPN[0] é€‰ä¸­æœ€åçš„ PTEï¼Œä»ä¸­è·å– 44 ä½çš„ç‰©ç†åœ°å€ï¼Œæ‹¼ä¸Šè™šæ‹Ÿåœ°å€æœ€å 12 ä½çš„åç§»é‡ï¼Œå¾—åˆ°ä¸€ä¸ª 56 ä½çš„ç‰©ç†åœ°å€ï¼Œå°±æ˜¯è¿™ä¸ªè™šæ‹Ÿåœ°å€æ‰€æ˜ å°„çš„ç‰©ç†åœ°å€&lt;/p&gt;

&lt;p style=&quot;text-align:center;&quot;&gt;&lt;img src=&quot;/assets/xv6-note-1/image-20200419150955605.png&quot; alt=&quot;page table&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;æ¯ä¸ª CPU éƒ½æœ‰å„è‡ªçš„ satp å¯„å­˜å™¨ï¼ˆsupervisor address translation and protection registerï¼‰ï¼Œå½“æŠŠé¡µè¡¨æ ‘æ ¹èŠ‚ç‚¹çš„ç‰©ç†åœ°å€å†™åˆ° satp åï¼ŒCPU åç»­æ‰§è¡Œçš„æ‰€æœ‰æŒ‡ä»¤ä¸­çš„åœ°å€éƒ½ä¼šç”¨è¿™ä¸ªé¡µè¡¨æ¥è½¬æ¢&lt;/p&gt;

&lt;p&gt;å½“ç”¨æˆ·è¿›ç¨‹çš„å†…å­˜åˆ†é…å™¨ï¼ˆä¾‹å¦‚ &lt;code class=&quot;highlighter-rouge&quot;&gt;malloc&lt;/code&gt;ï¼‰é€šè¿‡ &lt;code class=&quot;highlighter-rouge&quot;&gt;sbrk&lt;/code&gt; ç”³è¯·å†…å­˜æ—¶ï¼Œå†…æ ¸ä¼šæŒ‰ä¸Šè¿°è½¬åŒ–é€»è¾‘ä¾æ¬¡è®¿é—®ï¼ˆæˆ–ç”Ÿæˆï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼‰å„å±‚å¯¹åº”çš„ PTEï¼ŒæŠŠæ–°ç”³è¯·åˆ°çš„ç‰©ç†å†…å­˜çš„åœ°å€ä¿å­˜åˆ°ç¬¬ä¸‰å±‚çš„ PTE é‡Œï¼Œç„¶åå‘ç”¨æˆ·è¿›ç¨‹è¿”å›è¯¥è™šæ‹Ÿåœ°å€ï¼›å½“ç”¨æˆ·è¿›ç¨‹è®¿é—®æŸä¸ªè™šæ‹Ÿåœ°å€æ—¶ï¼Œå¦‚æœåœ°å€è½¬åŒ–è¿‡ç¨‹ä¸­é‡åˆ°çš„ä»»æ„ä¸€ä¸ª PTE ä¸å­˜åœ¨æˆ–ä¸€äº›æ ‡è®°ä¸è®¿é—®ç±»å‹ä¸ç¬¦â€”-å³ç¨‹åºè®¿é—®äº†ä¸€ä¸ªéæ³•åœ°å€ï¼Œåˆ†é¡µç¡¬ä»¶å°±ä¼šæŠ›å‡ºé¡µé”™è¯¯å¼‚å¸¸ï¼ˆpage-faultï¼‰&lt;/p&gt;

&lt;p&gt;è¿™ç§ä¸‰å±‚ç»“æ„å…è®¸é¡µè¡¨æ‡’åŠ è½½é¡µè¡¨é¡µï¼Œå¾ˆå¤§èŒƒå›´å†…çš„è™šæ‹Ÿåœ°å€çš„é¡µè¡¨é¡µæ²¡è¢«è®¿é—®å°±ä¸ä¼šç”Ÿæˆå‡ºæ¥&lt;/p&gt;

&lt;p&gt;é€šè¿‡é¡µè¡¨ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æ‹¥æœ‰å®Œæ•´è¿ç»­çš„è™šæ‹Ÿåœ°å€ï¼ˆ0ï½MAXVAï¼‰ï¼Œè€Œå®é™…çš„ç‰©ç†åœ°å€å¯ä»¥æ˜¯ä¸è¿ç»­çš„ï¼›åŒæ—¶é¡µè¡¨è¿˜å¯ä»¥æŠŠåŒä¸€ç‰‡ç‰©ç†å†…å­˜æ˜ å°„åˆ°ä¸åŒåœ°å€ç©ºé—´ï¼Œåœ¨ä¸åŒè¿›ç¨‹é—´å¤ç”¨åŒä¸€ä»½ä»£ç ï¼ˆä¾‹å¦‚æ¯ä¸ªè¿›ç¨‹ç”¨æˆ·åœ°å€ç©ºé—´éƒ½æœ‰çš„ trampoline é¡µï¼‰ã€‚å†…æ ¸æœ‰å•ç‹¬çš„é¡µè¡¨ï¼Œä¸åŒè¿›ç¨‹ä¹Ÿæœ‰å„è‡ªçš„é¡µè¡¨ï¼ŒæŠŠè™šæ‹Ÿåœ°å€è½¬æ¢æˆä¸åŒçš„ç‰©ç†å†…å­˜é¡µåœ°å€ï¼Œä»è€Œå®ç°ç¨‹åºé—´å†…å­˜çš„éš”ç¦»&lt;/p&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="os" />
      
        <category term="xv6" />
      

      
        <summary type="html">å½“ä¸€ä¸ªåº”ç”¨ç¨‹åºæ‰§è¡Œå‡ºé”™æ—¶ï¼Œæˆ‘ä»¬ä¸å¸Œæœ›æ“ä½œç³»ç»Ÿæˆ–å…¶ä»–ä¸ç›¸å…³çš„ç¨‹åºå› æ­¤ä¹Ÿå‡ºé”™ï¼Œç›¸åï¼Œæ“ä½œç³»ç»Ÿåº”è¯¥è¦èƒ½å‘ç°å¹¶æ¸…ç†æ‰å‡ºé”™çš„ç¨‹åºï¼Œå¹¶ç»§ç»­è¿è¡Œå…¶ä»–ç¨‹åºã€‚è¦å®ç°æœ‰æ•ˆçš„éš”ç¦»é¦–å…ˆè¦æ±‚æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºä¹‹é—´æœ‰æ˜ç¡®çš„ç•Œé™ï¼Œæ™®é€šç¨‹åºä¸èƒ½å†™ï¼ˆç”šè‡³è¯»ï¼‰ç³»ç»Ÿçš„æ•°æ®ç»“æ„å’ŒæŒ‡ä»¤ï¼Œä¹Ÿä¸èƒ½è®¿é—®å…¶ä»–è¿›ç¨‹çš„å†…å­˜</summary>
      

      
      
    </entry>
  
  
  
    <entry>
      
      <title type="html">5G æœªæ¥ï¼ˆè¯‘æ–‡ï¼‰</title>
      
      
      <link href="/2020/03/16/a-5g-future/" rel="alternate" type="text/html" title="5G æœªæ¥ï¼ˆè¯‘æ–‡ï¼‰" />
      
      <published>2020-03-16T00:00:00+00:00</published>
      <updated>2020-03-16T00:00:00+00:00</updated>
      <id>/2020/03/16/a-5g-future</id>
      <content type="html" xml:base="/2020/03/16/a-5g-future/">&lt;blockquote&gt;
  &lt;p&gt;è¿™æ˜¯ä¸€ç¯‡è‹±æ–‡æ–‡ç« çš„ä¸­æ–‡ç¿»è¯‘&lt;/p&gt;

  &lt;p&gt;&lt;strong&gt;This is a Chinese translation of the English language article:&lt;br /&gt;&lt;/strong&gt;
&lt;strong&gt;Loukides, Mike. â€œA 5G futureâ€&lt;br /&gt;&lt;/strong&gt;
&lt;strong&gt;&lt;a href=&quot;https://www.oreilly.com/radar/a-5g-future/&quot;&gt;https://www.oreilly.com/radar/a-5g-future/&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œ5G é€šä¿¡æŠ€æœ¯å¼•èµ·äº†å¾ˆå¤šäººçš„å…´å¥‹ï¼Œä¹Ÿå¼•å‘äº†ä¸å°‘ç‚’ä½œã€‚5G çš„æŠ€æœ¯æŒ‡æ ‡ä»¤äººç©ç›®ï¼šå®ƒå°†ä¸ºæ‰‹æœºã€æ™ºèƒ½æ±½è½¦å’Œå¾ˆå¤šè¿˜æ²¡å‘æ˜å‡ºæ¥çš„ç§»åŠ¨è®¾å¤‡æä¾›é«˜è¾¾ 20 Gbps çš„&lt;a href=&quot;https://www.etsi.org/technologies/5g&quot;&gt;å³°å€¼æ•°æ®ä¼ è¾“é€Ÿç‡&lt;/a&gt;ï¼ˆâ€œ&lt;a href=&quot;https://5gobservatory.eu/info-deployments/5g-performance/&quot;&gt;ç”¨æˆ·ä½“éªŒçš„æ•°æ®ä¼ è¾“é€Ÿç‡&lt;/a&gt;â€ä¸º 100 Mbpsï¼‰ã€‚å¾ˆéš¾æƒ³è±¡ä»€ä¹ˆæ ·çš„ app ä¼šéœ€è¦å¦‚æ­¤å¤šçš„æ•°æ®ï¼Œè€Œ 5G æ”¯æŒè€…ä»¬ä¼¼ä¹è§‰å¾—ä¸€åˆ‡çš†æœ‰å¯èƒ½ã€‚5G åœ¨å®è·µä¸­æ„å‘³ç€ä»€ä¹ˆï¼Ÿæˆ‘ä»¬éœ€è¦å¥½å¥½æƒ³æƒ³å®ƒèƒ½ä¸ºç°å®ä¸–ç•Œå¸¦æ¥ä»€ä¹ˆæ ·çš„å˜åŒ–ã€‚&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;5G å¯èƒ½å¸¦æ¥çš„æœ€æ˜¾è‘—å˜åŒ–ä¸åœ¨äºæ‰‹æœºï¼Œè€Œåœ¨äºæœ¬åœ°ç½‘ç»œï¼Œæ— è®ºæ˜¯å®¶åº­çš„è¿˜æ˜¯åŠå…¬å®¤çš„ã€‚æ—©åœ¨ 80 å¹´ä»£ Nicholas Negroponte å°±&lt;a href=&quot;https://books.google.com/books?id=McBUx67rw7wC&amp;amp;pg=PA338&amp;amp;lpg=PA338&amp;amp;dq=negroponte+everything+wired+will+become+wireless,+and+everything+wireless+will+become+wired.&amp;amp;source=bl&amp;amp;ots=cJTyDDyWhR&amp;amp;sig=ACfU3U14LnXEcU_lGE6lm5jHFk30-mCQ1w&amp;amp;hl=en&amp;amp;sa=X&amp;amp;ved=2ahUKEwiRsZOD7-DlAhWsuFkKHZg9CqwQ6AEwBXoECAkQAQ#v=onepage&amp;amp;q=negroponte%20everything%20wired%20will%20become%20wireless%2C%20and%20everything%20wireless%20will%20become%20wired.&amp;amp;f=false&quot;&gt;è¯´è¿‡&lt;/a&gt;ï¼Œä¸€åˆ‡æœ‰çº¿çš„ä¸œè¥¿éƒ½ä¼šå˜æˆæ— çº¿ï¼Œè€Œä¸€åˆ‡æ— çº¿çš„ä¸œè¥¿éƒ½ä¼šå˜æˆæœ‰çº¿ã€‚å¯¹äºç½‘ç»œè¿æ¥çš„â€œæœ€åä¸€è‹±é‡Œâ€ä¼šå‘ç”Ÿä»€ä¹ˆå˜åŒ–å‘¢ï¼Ÿç°åœ¨å®¶åº­ç½‘ç»œä¼¼ä¹åœç•™åœ¨äº† 50 Mbps å·¦å³ï¼Œå•†ç”¨ç½‘ç»œåˆ™ç¨é«˜ä¸€äº›ï¼Œå¦‚æœæœ‰åˆ«çš„é«˜å¸¦å®½é€‰æ‹©æ¥æ‰“ç ´æœ¬åœ°ç”µä¿¡è¿è¥å•†çš„å„æ–­ä¼šéå¸¸ä¸é”™ï¼Œä¸æ˜¯æ¯å®¶æ¯æˆ·éƒ½æœ‰å…‰çº¤ï¼Œå¯¹å§ï¼Ÿ5G å¸¦æ¥çš„é«˜é€Ÿç½‘ç»œä¹Ÿè®¸ä¼šæ¨åŠ¨ä¸‹ä¸€ä»£â€œ&lt;a href=&quot;https://en.wikipedia.org/wiki/Cord-cutting&quot;&gt;å‰ªçº¿æ—&lt;/a&gt;â€çš„å‡ºç°ï¼Œå®ƒèƒ½å–ä»£æœ‰çº¿å®½å¸¦ï¼Œæˆä¸ºå®¶åº­å’Œç§»åŠ¨è®¾å¤‡çš„ä¸€ä¸ªæ— çº¿æœåŠ¡å—ï¼Ÿæˆ‘ä¸éœ€è¦æ›´é«˜çš„å¸¦å®½æ¥å¼€è§†é¢‘ä¼šè®®æˆ–çœ‹ç”µå½±ï¼Œä½†ç¡®å®å¸Œæœ›èƒ½åªèŠ±å‡ ç§’è€Œä¸æ˜¯å‡ åˆ†é’Ÿæ¥ä¸‹è½½ä¸€ä¸ªç³»ç»Ÿæ›´æ–°å’Œå¤§æ–‡ä»¶ã€‚æ¯ä¸ªå»ºè¿‡ Docker å®¹å™¨çš„äººéƒ½ç»å†è¿‡â€œç°åœ¨å¾—ç­‰ä¸€äº›å¤§æ–‡ä»¶ä¸‹è½½å’Œè§£å‹â€çš„æ—¶åˆ»ï¼Œå°±ç®—ä½ ç”¨çš„æ˜¯å…¬å¸ç½‘ç»œï¼Œä¹Ÿéœ€è¦ç­‰ä¸å°‘æ—¶é—´ã€‚è¿™ä¸ªå¯èƒ½ä¼šéšç€ 5G åˆ°æ¥è€Œæ¶ˆå¤±ã€‚&lt;/p&gt;

&lt;p&gt;å†œæ‘ç½‘ç»œè¿é€šæ€§æ˜¯ä¸ªè€ç”Ÿå¸¸è°ˆé—®é¢˜ï¼Œè®¸å¤šå†œæ‘ç”¨æˆ·ï¼ˆå’Œä¸€äº›åŸå¸‚ç”¨æˆ·ï¼‰ä»ç„¶åªèƒ½ä½¿ç”¨æ‹¨å·é€Ÿåº¦çš„ç½‘ç»œã€‚å°½ç®¡ä¼ä¸š&lt;a href=&quot;https://www.zdnet.com/article/the-realities-of-rural-5g-deployment-in-the-us/&quot;&gt;å£°ç§°&lt;/a&gt; 5G å°†ä¸ºå†œæ‘åœ°åŒºæä¾›æ›´å¥½çš„è¿é€šæ€§ï¼Œä½†æˆ‘æ·±è¡¨æ€€ç–‘ï¼Œå› ä¸º 5G ä½¿ç”¨çš„æ˜¯æ¯” 4G æ›´é«˜çš„é¢‘ç‡ï¼Œè€Œæ›´é«˜çš„é¢‘ç‡æ›´æ˜“å—è·¯å¾„æŸè€—çš„å½±å“ï¼Œ5G åŸºç«™çš„è¦†ç›–èŒƒå›´è‚¯å®šä¼šæ¯” 4G/LTE åŸºç«™å°ï¼Œå¦‚æœè¿è¥å•†åœ¨ç°æœ‰æŠ€æœ¯ä¸‹ä¸æ„¿å»ºåŸºç«™å¡”ï¼Œé‚£ä»–ä»¬å¤šåŠä¹Ÿä¸æ„¿ä¸º 5G å»ºæ›´å¤šå¡”ã€‚æ‰€ä»¥æˆ‘çŒœå†œæ‘ç¤¾åŒºä¼šå†æ¬¡è¢«è½ä¸‹ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥å½“ä¸‹æ‰‹æœºå’ŒåµŒå…¥å¼è®¾å¤‡çš„å‘å±•ï¼Œé™¤äº†åœ¨æ—…é€”ä¸­ç”¨æ‰‹æœºæ¥å‘ Wi-Fiï¼Œæˆ‘ä¸è§‰å¾—ä¸ºä»€ä¹ˆæˆ‘ä¼šéœ€è¦ä¸Šåƒå…†çš„ç½‘ç»œã€‚ç”¨æ‰‹æœºæ¥çœ‹ç”µå½±ä¼šå¾ˆç—›è‹¦ï¼Œå¾…ä¼šä¼šè°ˆåˆ°è¿™ä¸ªã€‚5G çƒ­è¡·è€…å¸¸è¯´å®ƒæ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦ï¼ˆAVï¼‰çš„ä¸€é¡¹ä½¿èƒ½æŠ€æœ¯ï¼Œå› ä¸ºåè€…ä¼šéœ€è¦é«˜å¸¦å®½æ¥ä¸‹è½½åœ°å›¾å’Œå›¾ç‰‡ï¼Œæ±½è½¦é—´ç”šè‡³å¯èƒ½äº’ç›¸äº¤æµï¼šåœ¨æœªæ¥çš„è‡ªåŠ¨é©¾é©¶æ±½è½¦ä¸–ç•Œé‡Œï¼Œæ‰€æœ‰æ±½è½¦éƒ½æ˜¯è‡ªåŠ¨é©¾é©¶çš„ï¼Œå¯ä»¥ååŒè§„åˆ’äº¤é€šã€‚è¿™ä¸ªå¯èƒ½å¾ˆéœ€è¦ 5G æ¥æ”¯æŒï¼Œä½†å†ä¸€æ¬¡åœ°ï¼Œæˆ‘å¾ˆå¥½å¥‡è°ä¼šå»æŠ•èµ„å»ºè®¾å†œæ‘ç½‘ç»œï¼Œè¦æ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦åªèƒ½åœ¨åŸå¸‚é‡Œå¼€ï¼Œé‚£å°±æ²¡é‚£ä¹ˆæœ‰ç”¨äº†ã€‚å¯¹äºåƒè‡ªåŠ¨é©¾é©¶æ±½è½¦é—´äº¤æµè¿™æ ·çš„åœºæ™¯ï¼Œç›¸æ¯”åŸå§‹å¸¦å®½ï¼Œå»¶è¿Ÿï¼ˆå¤šä¹…èƒ½æ”¶åˆ°å›å¤ï¼‰æ›´æœ‰å¯èƒ½æ˜¯ä¸ªæ›´å¤§çš„é™åˆ¶ï¼Œå¹¶ä¸”æ˜¯å—ç‰©ç†é™åˆ¶ï¼Œå°½ç®¡å¯¹ 5G çš„å»¶è¿Ÿæœ‰ä»¤äººå°è±¡æ·±åˆ»çš„&lt;a href=&quot;http://www.techplayon.com/5g-nr-control-plane-latency-calculations/&quot;&gt;ä¼°è®¡å€¼&lt;/a&gt;ï¼Œä½†åœ¨å®é™…ä½¿ç”¨ä¸­å¾€å¾€ä¼šå—åˆ°æ›´ä¸¥è‹›çš„è€ƒéªŒã€‚å¯é æ€§ä¼šæ˜¯ä¸€ä¸ªæ¯”å»¶è¿Ÿæ›´å¤§çš„é—®é¢˜ï¼Œè¿˜è®°å¾—ä½ ä¸Šæ¬¡å»çº½çº¦æˆ–æ—§é‡‘å±±æ˜¯ä»€ä¹ˆæ ·å—ï¼Ÿç”±äºä¿¡å·ä¼šåœ¨é«˜æ¥¼å¤§å¦é—´åå°„ï¼Œå¹¶åœ¨ç©¿è¿‡æ—¶è¡°å‡ï¼Œå¤§åŸå¸‚çš„é€šä¿¡æœåŠ¡å¸¸å¸¸å¾ˆå·®ï¼Œä¿¡å·é¢‘ç‡å˜é«˜æ—¶è¿™äº›é—®é¢˜ä¼šæ›´åŠ ä¸¥é‡ã€‚ä¸ç®¡æ˜¯è‡ªåŠ¨é©¾é©¶æ±½è½¦è¿˜æ˜¯å…¶ä»–åº”ç”¨åœºæ™¯ï¼Œæé«˜ç§»åŠ¨è¿æ¥çš„å¯é æ€§æ¯”æé€Ÿæ›´é‡è¦ã€‚5G æ‰“ç®—é€šè¿‡æƒè¡¡ä¿¡å·è´¨é‡æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œè¿™ä¹ˆåšçœ‹èµ·æ¥æ˜¯æœ‰é“ç†çš„ï¼Œä½†æ˜¯å¦æœ‰æ•ˆå°šå¾…è§‚å¯Ÿã€‚&lt;/p&gt;

&lt;p&gt;æ­£åœ¨ç ”ç©¶&lt;a href=&quot;https://learning.oreilly.com/library/view/tinyml/9781492052036/&quot;&gt;è®©æœºå™¨å­¦ä¹ è¿è¡Œåœ¨è¶…ä½åŠŸè€—è®¾å¤‡ä¸Š&lt;/a&gt;çš„ Pete Warden è¡¨ç¤ºï¼Œ5G å¯¹ä»–æ‰€å…³å¿ƒçš„åº”ç”¨åœºæ™¯ç”¨å¤„ä¸å¤§ï¼Œå½“è¯•ç€åšä¸€ä¸ªèƒ½ç”¨çº½æ‰£ç”µæ± è¿è¡Œæ•°æœˆçš„è®¾å¤‡æ—¶ï¼Œä½ ä¼šå‘ç°æ— çº¿ç½‘ç»œæ¨¡å—è€—ç”µæ¯” CPU è¿˜å¤šï¼Œæ‰€ä»¥ä½ å¿…é¡»å°½å¯èƒ½ä¿æŒæ— çº¿æ¨¡å—å…³é—­ï¼Œä¼ å°½é‡å°‘çš„æ•°æ®ã€‚é‚£å·¥ä½œç‰©è”ç½‘ï¼ˆlloTï¼‰å’Œå¯ä»¥æ”¾åœ¨&lt;a href=&quot;https://www.oreilly.com/radar/tinyml-the-challenges-and-opportunities-of-low-power-ml-applications/&quot;&gt;è´´çº¸&lt;/a&gt;é‡Œè´´åˆ°æœºå™¨ä¸Šçš„ä¼ æ„Ÿå™¨å‘¢ï¼Ÿè¿™å¯èƒ½æ˜¯ 5G çš„ä¸€ä¸ªåº”ç”¨åœºæ™¯ï¼Œä½†æ­£å¦‚ Warden æ‰€è¯´ï¼Œè¿™ç§åœºæ™¯ä¸­çœŸæ­£çš„èƒœåˆ©æ˜¯æ¶ˆç­ç”µæ± å’Œç”µæºçº¿ï¼Œè¿™åè¿‡æ¥åˆè¦æ±‚è°¨æ…åœ°ä½¿ç”¨ä½åŠŸè€—ç½‘ç»œï¼Œ5G å¹¶éç†æƒ³é€‰æ‹©ï¼Œä¸”åˆæ­¥çœ‹æ¥å®ƒæ¯”ç°æœ‰æŠ€æœ¯åŠŸè€—æ›´é«˜ã€‚&lt;/p&gt;

&lt;p&gt;æŠ›å¼€åŠŸè€—ä¸è°ˆï¼Œæˆ‘ä¹Ÿä¸è§‰å¾—æœªæ¥ä¼šæœ‰å¾ˆå¤š loT è®¾å¤‡æœ‰å‘é€æ•°æ®çš„éœ€æ±‚ã€‚æˆ‘ä»¬å·²ç»è§è¯†è¿‡å…¬ä¼—å¯¹äºšé©¬é€Šçš„ Echo å’Œ Google Home æŠŠå¯¹è¯è®°å½•å‘å›ç»™æœåŠ¡å™¨çš„æ–°é—»ä¼šä½œä½•ååº”äº†ï¼Œæˆ‘ä»¬ä¹Ÿå·²ç»çœ‹åˆ°è¿‡åƒæ™ºèƒ½æ’æ¸©å™¨å’Œç¯æ³¡è¿™æ ·çš„è®¾å¤‡è¢«ç”¨äº&lt;a href=&quot;https://www.nytimes.com/2018/06/23/technology/smart-home-devices-domestic-abuse.html&quot;&gt;éªšæ‰°&lt;/a&gt;ã€‚éšç€éšç§æ³•è§„çš„å®Œå–„å’Œ&lt;a href=&quot;https://ai.googleblog.com/2017/04/federated-learning-collaborative.html&quot;&gt;è”é‚¦å­¦ä¹ &lt;/a&gt;è¿™æ ·çš„æŠ€æœ¯æ™®åŠï¼Œè¿œè·ç¦»ä¼ è¾“ç”¨æˆ·æ•°æ®çš„éœ€æ±‚å’Œæ¬²æœ›å°†ä¸å¯é¿å…åœ°å‡å°‘ã€‚&lt;/p&gt;

&lt;p&gt;é‚£ 5G åˆ°åº•åœ¨å“ªé‡Œèƒ½æ´¾ä¸Šç”¨åœºï¼Ÿè®©æˆ‘ä»¬å›åˆ°å®¶åº­ç½‘ç»œï¼Œæˆ‘ä¼šå¾ˆä¹æ„ä¸ºåƒå…†æ— çº¿ç½‘æ”¾å¼ƒæˆ‘çš„ 50 Mbps æœ‰çº¿ç½‘ç»œã€‚åŒæ ·çš„ï¼Œè¿™æ˜¯ç»ˆæå‰ªçº¿ï¼Œåˆ›é€ äº†å·¨å¤§çš„æ–°çš„å¯èƒ½æ€§ï¼Œæˆ‘å¯èƒ½ä¸æƒ³åœ¨æ‰‹æœºä¸Šçœ‹ 4K è§†é¢‘ï¼ˆè€ƒè™‘åˆ°ç°æœ‰å±å¹•æŠ€æœ¯ï¼Œæ‰‹æœºä¸Šçš„é«˜åˆ†è¾¨ç‡è§†é¢‘æ„ä¹‰ä¸å¤§ï¼Œæ›´åˆ«æè¯´äººçœ¼çš„è§’åˆ†è¾¨ç‡äº†ï¼‰ï¼Œä½†æˆ‘å¯èƒ½ä¼šæƒ³ç”¨ Chromecast æŠŠæ‰‹æœºä¸Šçš„è§†é¢‘ä¼ åˆ°ç”µè§†ä¸Šçœ‹ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘å¯¹æˆ‘ç°åœ¨çš„ Wi-Fi éƒ¨ç½²å¾ˆæ»¡æ„ï¼Œä½†åœ¨ 5G ä¸–ç•Œä¸­æˆ‘è¿˜éœ€è¦ Wi-Fi å—ï¼Ÿä¹Ÿè®¸å‡ºäºå®‰å…¨å’Œéšç§è€ƒè™‘ï¼ŒæŠŠæœ¬åœ°ç½‘ç»œå’Œå¤–ç½‘åˆ†éš”å¼€ä¹Ÿè¯´å¾—é€šï¼Œä½†è¿™åŒæ ·æ˜¯ä¸€ä¸ª 5G è¿è¥å•†å¯ä»¥è§£å†³çš„é—®é¢˜ï¼Œè™šæ‹Ÿå±€åŸŸç½‘ï¼ˆ&lt;a href=&quot;https://en.wikipedia.org/wiki/Virtual_LAN&quot;&gt;VLAN&lt;/a&gt;ï¼‰æ—©å·²ä¸æ˜¯æ–°æ¦‚å¿µäº†ï¼Œç¬”è®°æœ¬ç”µè„‘è¿æ¥åƒå…†ç½‘ç»œï¼ŒåŠ ä¸Šèœ‚çªç½‘ç»œæä¾›ä¸€ä¸ª VLANï¼Œä¹Ÿå¯ä»¥å–ä»£æ‰åŠå…¬ç½‘ã€‚æ— è®ºå“ªç§æƒ…å†µéƒ½äºéœ€è¦å¯¹éšç§å’Œå®‰å…¨åšä¸¥æ ¼çš„ä¿è¯ï¼Œä»ç°æœ‰&lt;a href=&quot;https://www.privacypolicies.com/blog/isp-tracking-you/&quot;&gt;è¿è¥å•†è¿½è¸ªç”¨æˆ·çš„è®°å½•&lt;/a&gt;æ¥çœ‹ï¼Œè¿˜æœ‰å¤ªå¤šé—®é¢˜è¦é—®ã€‚&lt;/p&gt;

&lt;p&gt;å¦‚æœèƒ½å¾—åˆ°è¿è¥å•†æ‰€æä¾›çš„ VLAN å¯¹éšç§å’Œå®‰å…¨çš„å¼ºåˆ¶ä¿è¯ï¼Œæˆ‘å¯ä»¥æƒ³è±¡æ›´å¤§çš„å˜é©äº†ã€‚é•¿æœŸä»¥æ¥æˆ‘ä¸€ç›´è®¤ä¸ºï¼Œç»´æŠ¤ç»å¸¸å‘ç”Ÿæ•…éšœä¸”éœ€è¦å¤‡ä»½çš„ç¡¬ç›˜ï¼ˆæ— è®ºæ˜¯æœºæ¢°è¿˜æ˜¯å›ºæ€ï¼‰æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæˆ‘ä¼šå®šæœŸå¤‡ä»½æ•°æ®ï¼Œä½†æˆ‘çŸ¥é“æˆ‘æ˜¯å°‘æ•°äººã€‚å¦‚æœæ‰€æœ‰æ•°æ®éƒ½å­˜åœ¨äº‘ç«¯ã€è®¿é—®é€Ÿåº¦å¿«åˆ°å»¶è¿Ÿå¯ä»¥å¿½ç•¥ä¼šæ€æ ·ï¼Ÿå¦‚æœä½ æ‰€æœ‰çš„æ–‡æ¡£éƒ½å­˜åœ¨ Google Docsã€æ‰€æœ‰çš„éŸ³ä¹éƒ½åœ¨ä½ æœ€å–œæ¬¢çš„æµæœåŠ¡é‡Œå‘¢ï¼Ÿè¿™å¹¶ä¸æ˜¯æ–°çš„æ„¿æ™¯ï¼Œæ—©åœ¨ä¹åå¹´ä»£ Sun å°±æå‡ºäº†è¿™ä¸ªæƒ³æ³•ï¼Œå®ƒå®è´¨ä¸Šå°±æ˜¯è°·æ­Œ Chromebook èƒŒåçš„æ„¿æ™¯ã€‚&lt;/p&gt;

&lt;p&gt;5G ä¼šå¦‚ä½•æ”¹å˜æˆ‘ä»¬å¯¹ç½‘ç»œçš„ä½¿ç”¨æ–¹å¼å‘¢ï¼Ÿå‡å¦‚æˆ‘æœ‰ 30 æˆ– 40 GB çš„ç…§ç‰‡ï¼Œæˆ‘å¯ä»¥æŠŠå®ƒä»¬å…¨éƒ¨ä¸Šä¼ åˆ° Google Photos æˆ–å…¶ä»–æœåŠ¡é‡Œï¼Œä½†ä½ ä¸ä¼šæƒ³ç”¨ 50 Mbps ä¸‹è½½å’Œ 10 Mbps ä¸Šä¼ çš„ç½‘ç»œåšè¿™ç§ï¼Œä½†å¦‚æœæ˜¯ä¸Šåƒå…†çš„ç½‘ç»œï¼Œå°±ä¸ç”¨è€ƒè™‘äº†ã€‚æˆ‘ä¸€ç›´å¯¹éŸ³è§†é¢‘æµåª’ä½“å…´è¶£ä¸å¤§ï¼Œæœ‰ä¸€éƒ¨åˆ†åŸå› æ˜¯å®ƒä»¬å¸¸å¸¸åœ¨ä½ æœ€éœ€è¦çš„æ—¶å€™ä¸å¯ç”¨ï¼šé£æœºæˆ–ç«è½¦ä¸Šï¼Œæˆ–æ˜¯åœ¨ä¸€ä¸ª 3000 äººå‚åŠ ã€æŠŠé…’åº—ç½‘ç»œæŒ¤çˆ†çš„æŠ€æœ¯ä¼šè®®ï¼ˆçœŸæœ‰äººæ›¾è·Ÿæˆ‘è¯´è¿‡â€œé‚£ä½ åº”è¯¥åœ¨å‡ºå‘å‰æŠŠæ‰€æœ‰æƒ³å¬çš„ä¸œè¥¿ä¸‹ä¸‹æ¥â€ï¼‰ï¼Œä½†å¦‚æœæœ‰åƒå…†å¸¦å®½çš„å¾®å‹åŸºç«™ï¼Œè¿™äº›æµåª’ä½“å°±æœ‰ç”¨äº†ã€‚ä¹Ÿè®¸ä¸æ˜¯å¯¹é£åœ¨åŸºç«™èŒƒå›´å¤–çš„é£æœºï¼ˆWoeFi ä»å°†ä¿æŒæ­£å¸¸è¿è¡Œï¼‰ï¼Œå¯èƒ½ä¸æ˜¯å¯¹å¼€åœ¨å†œæ‘çš„è½¦ï¼Œä½†å¦‚æœæˆ‘çš„æ‰‹æœºèƒ½ç”¨ä¸Šåƒå…†çš„ç½‘ç»œï¼Œé‚£æˆ‘ä¸ºä»€ä¹ˆè¿˜è¦åœ¨æ„ Amtrak ç¼“æ…¢çš„ Wi-Fi å’Œé…’åº—çš„ç½‘ç»œæ‹¥å µå‘¢ï¼Ÿå¦‚æœåŠå…¬å®¤å¯ä»¥ç»™æˆ‘çš„ç¬”è®°æœ¬æä¾›è¿™æ ·çš„å¸¦å®½ï¼Œå¹¶å¯¹äº‘å®‰å…¨æä¾›è¶³å¤Ÿçš„ä¿è¯ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜è¦æ‹…å¿ƒåŠå…¬å®¤å±€åŸŸç½‘å‘¢ï¼Ÿ&lt;/p&gt;

&lt;p&gt;ä¸ç®¡ä½ å–œä¸å–œæ¬¢ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¼šæ˜¯ä¸€ä¸ªå…¨æ–°çš„æ¨¡å¼ï¼šæˆ‘ä»¬ä¸éœ€è¦ç®¡æ•°æ®å­˜å“ªäº†ï¼Œä¸ç”¨æ‹…å¿ƒå¤‡ä»½ï¼Œä¹Ÿä¸ç”¨æ‹…å¿ƒåœç”µï¼Œæˆ‘ä»¬éšèº«æºå¸¦è‡ªå·±çš„ç½‘ç»œï¼Œç”šè‡³ä¸éœ€è¦æ‹…å¿ƒå®‰å…¨é—®é¢˜ï¼ŒGoogleã€Amazon å’Œ Microsoft éƒ½æ¯”æˆ‘æ›´æ“…é•¿å¤‡ä»½å’Œåº”å¯¹ç½‘ç»œä¸­æ–­ï¼Œè€Œä¸”éå¸¸æ¸…æ¥šå¦‚ä½•ä¿æŠ¤æˆ‘çš„æ•°æ®ã€‚å¦‚æœ Google èƒ½æ¨åŠ¨ç”¨æˆ·æ‰“å¼€&lt;a href=&quot;https://authy.com/what-is-2fa/&quot;&gt;åŒå› ç´ éªŒè¯&lt;/a&gt;ï¼ˆ2FAï¼‰æˆ–ç”¨&lt;a href=&quot;https://www.extremetech.com/computing/274067-google-eliminated-phishing-by-giving-all-85000-employees-usb-security-keys&quot;&gt;å®‰å…¨åŠ å¯†ç‹—&lt;/a&gt;ï¼Œè¿™ä¼šæ˜¯è¿ˆå‘è®¡ç®—æœºå®‰å…¨çš„é‡è¦ä¸€æ­¥ã€‚è¿™äº›äº‘æœåŠ¡ä¼šã€ä¹Ÿå¿…é¡»ä¿è¯è¿™äº›æ•°æ®çš„éšç§æ€§ï¼Œå°±åƒæ•°æ®ä¿å­˜åœ¨ç”¨æˆ·è‡ªå·±ç¡¬ç›˜æˆ–åŠå…¬å®¤æœºæˆ¿ä¸€æ ·ï¼Œè¿™æ˜¯ä¸€ä¸ª&lt;a href=&quot;https://en.wikipedia.org/wiki/FBIâ€“Apple_encryption_dispute&quot;&gt;å¾ˆå®¹æ˜“è§£å†³&lt;/a&gt;çš„é—®é¢˜ã€‚&lt;/p&gt;

&lt;p&gt;å¯¹å•†ä¸šçš„å½±å“ä¼šæ›´åŠ é‡è¦ï¼Œå®¶åº­ç”¨æˆ·æƒ³è¦åƒå…†ç½‘ç»œï¼Œè€Œä¼ä¸šä¼šéœ€è¦åˆ°å…†å…†æˆ–åƒå…†å…†ã€‚å½“åƒå…†ç½‘ç»œæ— å¤„ä¸åœ¨æ—¶ï¼Œç§»åŠ¨å¤§å‹æ•°æ®é›†ä¼šç®€å•å¾—å¤šã€‚ä¸ç®¡æ˜¯ AI åº”ç”¨çš„è®­ç»ƒæ•°æ®è¿˜æ˜¯äº¤æ˜“è®°å½•ï¼Œä¼ä¸šæ€»æ˜¯ç§»åŠ¨æ•°æ®ã€å¾ˆå¤šæ•°æ®ï¼Œåœ¨ç°æœ‰æŠ€æœ¯ä¸‹ï¼Œç§»åŠ¨å¤§é‡æ•°æ®çš„æœ€å¥½æ–¹æ³•é€šå¸¸æ˜¯æŠŠ&lt;a href=&quot;https://aws.amazon.com/snowmobile/&quot;&gt;ç¡¬ç›˜æ”¾åœ¨å¡è½¦ä¸Š&lt;/a&gt;ï¼Œå¦‚æœå®‰å…¨å’Œéšç§èƒ½å¾—åˆ°ç¡¬æ€§ä¿è¯çš„è¯ï¼Œ5G å°±èƒ½è®©æˆ‘ä»¬æ›´æ¥è¿‘äºè§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œä¼ä¸šæ¯”æ™®é€šç”¨æˆ·æ›´ä¸å¸Œæœ›è®©ç¬¬ä¸‰æ–¹ä½¿ç”¨ä»–ä»¬çš„æ•°æ®ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘ç›¸ä¿¡ 5G è¿˜ä¼šå¸¦æ¥å¯ä»¥ç”¨ä¸Šè¿™ç§å¸¦å®½çš„ã€æˆ‘ä»¬è¿˜æ²¡æƒ³åƒå‡ºæ¥çš„æ–°ä¸€ä»£æ™ºèƒ½è®¾å¤‡ï¼Œä½†æˆ‘è¿˜æ˜¯æ›´å…³å¿ƒæˆ‘ç°åœ¨èƒ½æƒ³è±¡åˆ°çš„ï¼Œä¸è‡ªå·±çš„æ•°æ®è„±é’©ï¼šéšæ—¶éšåœ°è®¿é—®ã€æ— éœ€éšèº«æºå¸¦æˆ–å­˜åœ¨æŸœå­é‡Œçš„æŸäº›æœºå™¨ä¸Šï¼Œè¿™æ‰æ˜¯ 5G çœŸæ­£çš„å‰æ™¯ã€‚&lt;/p&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="translations" />
      

      
        <summary type="html">è¿™æ˜¯ä¸€ç¯‡è‹±æ–‡æ–‡ç« çš„ä¸­æ–‡ç¿»è¯‘ This is a Chinese translation of the English language article: Loukides, Mike. â€œA 5G futureâ€ https://www.oreilly.com/radar/a-5g-future/ åœ¨è¿‡å»çš„ä¸€å¹´é‡Œï¼Œ5G é€šä¿¡æŠ€æœ¯å¼•èµ·äº†å¾ˆå¤šäººçš„å…´å¥‹ï¼Œä¹Ÿå¼•å‘äº†ä¸å°‘ç‚’ä½œã€‚5G çš„æŠ€æœ¯æŒ‡æ ‡ä»¤äººç©ç›®ï¼šå®ƒå°†ä¸ºæ‰‹æœºã€æ™ºèƒ½æ±½è½¦å’Œå¾ˆå¤šè¿˜æ²¡å‘æ˜å‡ºæ¥çš„ç§»åŠ¨è®¾å¤‡æä¾›é«˜è¾¾ 20 Gbps çš„å³°å€¼æ•°æ®ä¼ è¾“é€Ÿç‡ï¼ˆâ€œç”¨æˆ·ä½“éªŒçš„æ•°æ®ä¼ è¾“é€Ÿç‡â€ä¸º 100 Mbpsï¼‰ã€‚å¾ˆéš¾æƒ³è±¡ä»€ä¹ˆæ ·çš„ app ä¼šéœ€è¦å¦‚æ­¤å¤šçš„æ•°æ®ï¼Œè€Œ 5G æ”¯æŒè€…ä»¬ä¼¼ä¹è§‰å¾—ä¸€åˆ‡çš†æœ‰å¯èƒ½ã€‚5G åœ¨å®è·µä¸­æ„å‘³ç€ä»€ä¹ˆï¼Ÿæˆ‘ä»¬éœ€è¦å¥½å¥½æƒ³æƒ³å®ƒèƒ½ä¸ºç°å®ä¸–ç•Œå¸¦æ¥ä»€ä¹ˆæ ·çš„å˜åŒ–ã€‚</summary>
      

      
      
    </entry>
  
  
  
    <entry>
      
      <title type="html">ä½¿ç”¨ VS Code è°ƒè¯• Xv6</title>
      
      
      <link href="/2020/01/23/vscode-debugging-xv6/" rel="alternate" type="text/html" title="ä½¿ç”¨ VS Code è°ƒè¯• Xv6" />
      
      <published>2020-01-23T00:00:00+00:00</published>
      <updated>2020-01-23T00:00:00+00:00</updated>
      <id>/2020/01/23/vscode-debugging-xv6</id>
      <content type="html" xml:base="/2020/01/23/vscode-debugging-xv6/">&lt;p&gt;&lt;a href=&quot;https://pdos.csail.mit.edu/6.828/2019/xv6.html&quot;&gt;Xv6&lt;/a&gt; æ˜¯MIT å¼€å‘çš„ä¸€ä¸ªæ•™å­¦ä½¿ç”¨çš„ç±» Unix æ“ä½œç³»ç»Ÿï¼Œ&lt;a href=&quot;https://github.com/mit-pdos/xv6-public&quot;&gt;å¼€æº&lt;/a&gt;å¹¶ä¸”é…æœ‰â€œ&lt;a href=&quot;https://pdos.csail.mit.edu/6.828/2019/xv6/book-riscv-rev0.pdf&quot;&gt;è¯¾æœ¬&lt;/a&gt;â€ã€‚ç›¸æ¯”å¤§è€Œå…¨çš„æ•™ç§‘ä¹¦ï¼Œå®ƒæ›´åŠ ç²¾ç®€ï¼ŒåªåŒ…å«éƒ¨åˆ†æ ¸å¿ƒçš„æ“ä½œç³»ç»Ÿæ€æƒ³å’Œæ¦‚å¿µï¼›åˆæ›´åŠ å…·ä½“ï¼Œå®Œå…¨å¯ä»¥ä»æºç å±‚é¢å»çœ‹å¦‚ä½•ç®€å•åœ°å®ç°è¿›ç¨‹ã€é¡µè¡¨ã€é”è¿™äº›åŸºç¡€è®¾æ–½ï¼Œå¾ˆé€‚åˆåœ¨ç¦»å¼€å­¦æ ¡ä¹‹åæ‹¿æ¥è¡¥è¯¾ã€‚&lt;/p&gt;

&lt;p&gt;é™¤äº†è¯¾æœ¬å’Œæ³¨é‡Šï¼Œé˜…è¯»å’Œç†è§£ä¸€ä»½æºç æœ€æœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯æŠŠå®ƒè·‘èµ·æ¥ã€è°ƒè¯•èµ·æ¥ï¼Œä¸‹é¢ä¼šè¯´æ˜æ€ä¹ˆç”¨åœ¨ macOS ä¸‹è¿è¡Œå’Œä½¿ç”¨ VS Code è°ƒè¯• Xv6 å†…æ ¸ã€‚&lt;/p&gt;

&lt;!--more--&gt;

&lt;h3 id=&quot;å¦‚ä½•è¿è¡Œ-xv6&quot;&gt;å¦‚ä½•è¿è¡Œ Xv6&lt;/h3&gt;

&lt;p&gt;è¯¾ç¨‹å®˜ç½‘æˆ–ä¸€äº›åšå®¢éƒ½èƒ½æ‰¾åˆ°å…³äºè¿è¡Œ Xv6 çš„ä»‹ç»ï¼Œè¿™é‡Œå°±åªç®€å•å†™ä¸€ä¸‹æ­¥éª¤ã€‚&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;æŠŠ&lt;a href=&quot;https://github.com/mit-pdos/xv6-public.git&quot;&gt;ä»£ç &lt;/a&gt; ä¸‹è½½åˆ° Mac ä¸Šï¼›&lt;/li&gt;
  &lt;li&gt;å®‰è£… Xcode å‘½ä»¤è¡Œå·¥å…·å’Œ Homebrewï¼ˆå¦‚æœè¿˜æ²¡æœ‰çš„è¯ï¼‰ï¼›&lt;/li&gt;
  &lt;li&gt;æŒ‰ç…§&lt;a href=&quot;https://pdos.csail.mit.edu/6.828/2019/tools.html&quot;&gt;å®˜ç½‘çš„æŒ‡å¼•&lt;/a&gt;å®‰è£…è¿è¡Œ Xv6 ä¾èµ–çš„ qemuã€riscv-toolsï¼›&lt;/li&gt;
  &lt;li&gt;è¿™æ—¶ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;cd&lt;/code&gt; åˆ°ä»£ç ç›®å½•ï¼Œ&lt;code class=&quot;highlighter-rouge&quot;&gt;make qemu&lt;/code&gt; åº”è¯¥å°±å¯ä»¥ç¼–è¯‘å’Œè¿è¡Œäº†ã€‚&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/assets/xv6/run-xv6.png&quot; alt=&quot;run xv6&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;å¦‚ä½•è°ƒè¯•-xv6&quot;&gt;å¦‚ä½•è°ƒè¯• Xv6&lt;/h3&gt;

&lt;p&gt;è¯¾æœ¬ç¬¬äºŒç« ç« æœ«ç»ƒä¹ ä¸­ä»‹ç»åˆ°çš„ &lt;code class=&quot;highlighter-rouge&quot;&gt;make qemu-gdb&lt;/code&gt; å°±æ˜¯ç”¨äºè°ƒè¯•çš„å‘½ä»¤ï¼Œæä¾›å¯åŠ¨æ—¶ç­‰å¾… debugger attach çš„èƒ½åŠ›ï¼Œåœ¨å¦ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ä¸­è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;gdb&lt;/code&gt; æ—¶ï¼Œgdb å°±ä¼š attach åˆ°ç­‰å¾…è¿è¡Œçš„ Xv6 ä¸Šã€‚&lt;/p&gt;

&lt;p&gt;æ–°ç‰ˆæœ¬çš„ macOS æ²¡æœ‰è‡ªå¸¦ gdbï¼Œæ‰€ä»¥éœ€è¦å…ˆå®‰è£…&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;brew &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;gdb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ä½†è¿™æ—¶ç”±äº riscv-gnu-toolchain å’Œ gdb link äº†åŒä¸€ä¸ªæ–‡ä»¶ &lt;code class=&quot;highlighter-rouge&quot;&gt;jit-reader.h&lt;/code&gt;ï¼Œä¼šå¯¼è‡´ gdb å®‰è£…ä¸­æ–­ï¼Œå¯æ ¹æ® brew çš„æç¤ºè¿è¡Œ&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;brew &lt;span class=&quot;nb&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--overwrite&lt;/span&gt; gdb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ—¶å†è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;make qemu-gdb&lt;/code&gt;ï¼Œåº”è¯¥å°±ä¼šçœ‹åˆ°å‘½ä»¤è¡Œè¿›å…¥ç­‰å¾… gdb attach çš„çŠ¶æ€ï¼Œåœ¨å…¶ä»–çª—å£ä¸­è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;gdb&lt;/code&gt;ï¼Œå°±å¯ä»¥æŒ‰ç»ƒä¹ ä¸­çš„æ–¹å¼è®¾ç½®æ–­ç‚¹å’Œå…¶ä»–è°ƒè¯•äº†ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å¦‚ä½•ä½¿ç”¨-vs-code-è°ƒè¯•-xv6&quot;&gt;å¦‚ä½•ä½¿ç”¨ VS Code è°ƒè¯• Xv6&lt;/h3&gt;

&lt;p&gt;å¦‚æœç”¨é¡ºæ‰‹çš„ IDE å–ä»£å‘½ä»¤è¡Œçš„ gdb æ¥åš attach ï¼Œè°ƒè¯•ä¼šæ–¹ä¾¿å¾—å¤šã€‚&lt;/p&gt;

&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ç¼–è¯‘ï¼Œå…ˆæ·»åŠ  &lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode/task.json&lt;/code&gt;ï¼Œæ·»åŠ åå¯ä»¥é€šè¿‡ command+shift+B åœ¨ VS Code çš„ terminal ä¸­è¿è¡Œ &lt;code class=&quot;highlighter-rouge&quot;&gt;make qemu-gdb&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2.0.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;tasks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;label&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;compile and run xv6 in debug mode&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;command&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;args&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;-c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;make &amp;amp;&amp;amp; make qemu-gdb&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;presentation&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;echo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;reveal&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;always&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;focus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;panel&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;new&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;showReuseMessage&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;clear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;group&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;isDefault&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;å†é…ç½® &lt;code class=&quot;highlighter-rouge&quot;&gt;.vscode/launch.json&lt;/code&gt; æ–‡ä»¶å¦‚ä¸‹ï¼Œå°±å¯ä»¥åœ¨ VS Code çš„ debug é¢æ¿ä¸­çœ‹åˆ°ç›¸åº”çš„è¿è¡Œé€‰é¡¹ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªé…ç½®åªè´Ÿè´£ attachï¼Œç‚¹å‡» run ä¹‹å‰éœ€è¦å…ˆè¿è¡Œä¸Šé¢çš„ task æˆ–æ‰‹åŠ¨åœ¨å‘½ä»¤è¡Œè·‘ &lt;code class=&quot;highlighter-rouge&quot;&gt;make qemu-gdb&lt;/code&gt;ï¼Œå¹¶æŠŠ &lt;code class=&quot;highlighter-rouge&quot;&gt;miDebuggerServerAddress&lt;/code&gt; æ”¹æˆ terminal ä¸­æœ€åè¾“å‡ºçš„ç«¯å£å·&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0.2.0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;configurations&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Remote Debug Xv6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;type&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cppdbg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;launch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;miDebuggerServerAddress&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;:25502&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;program&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;${workspaceRoot}/kernel/kernel&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;cwd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;MIMode&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gdb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;externalConsole&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;serverLaunchTimeout&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;stopAtEntry&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;logging&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
                &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;engineLogging&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;åœ¨ &lt;code class=&quot;highlighter-rouge&quot;&gt;kernel/main.c&lt;/code&gt; ä¸­æ‰“ä¸ªæ–­ç‚¹ï¼Œç‚¹ run å°±ä¼šçœ‹åˆ° Xv6 çš„è¿è¡Œè¢«ä¸­æ–­äº†ã€‚ğŸ‰&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/xv6/debug-xv6.png&quot; alt=&quot;debug-xv6&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;one-more-thing&quot;&gt;One more thing&lt;/h3&gt;

&lt;p&gt;å†å¯¹å…¶ä»–å‡½æ•°åšè¿›ä¸€æ­¥çš„è°ƒè¯•ä¼šå‘ç°ï¼Œè¿è¡Œæ—¶ä»£ç é‡Œçš„å¾ˆå¤šç¬¦å·è¢«ä¼˜åŒ–æ‰äº†ï¼ŒåŸå› æ˜¯ Makefile æ²¡æœ‰å¯¹è°ƒè¯•æ¨¡å¼çš„ç¼–è¯‘é€‰é¡¹åšé¢å¤–å¤„ç†ï¼Œç”±äºæ˜¯å‡ºäºå­¦ä¹ ç›®çš„è·‘ Xv6ï¼Œä¸ºäº†æ–¹ä¾¿ç›´æ¥æŠŠä¸¤ç§è¿è¡Œæ¨¡å¼çš„ç¼–è¯‘ä¼˜åŒ–éƒ½å…³æ‰&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Makefile line 57&lt;/span&gt;
CFLAGS &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Wall&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-Werror&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-fno-omit-frame-pointer&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-ggdb&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;è¿™æ—¶å€™å†ç¼–è¯‘ä¼šå…ˆåæŠ¥å‡ ä¸ªé—®é¢˜ï¼Œæ ¹æ®é”™è¯¯ä¿¡æ¯ä¸€ä¸€å¤„ç†æ‰å³å¯&lt;/p&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# Makefile line 60&lt;/span&gt;
CFLAGS +&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-ffreestanding&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-fno-common&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-mno-relax&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// user/usertests.c line 2123&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;language-c highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// user/usertests.c line 2186&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strcmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tests&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;fail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;å¯å‚è€ƒ&lt;a href=&quot;https://github.com/lihaoyuan/xv6-riscv/commit/b2930ce6bed375f252bb73ce7069ecbf96100345&quot;&gt;è¿™ä¸ªæäº¤&lt;/a&gt;ã€‚&lt;/p&gt;</content>

      
      
      
      
      

      
        <author>
            <name>lhy</name>
          
          
        </author>
      

      

      
        <category term="os" />
      
        <category term="xv6" />
      

      
        <summary type="html">Xv6 æ˜¯MIT å¼€å‘çš„ä¸€ä¸ªæ•™å­¦ä½¿ç”¨çš„ç±» Unix æ“ä½œç³»ç»Ÿï¼Œå¼€æºå¹¶ä¸”é…æœ‰â€œè¯¾æœ¬â€ã€‚ç›¸æ¯”å¤§è€Œå…¨çš„æ•™ç§‘ä¹¦ï¼Œå®ƒæ›´åŠ ç²¾ç®€ï¼ŒåªåŒ…å«éƒ¨åˆ†æ ¸å¿ƒçš„æ“ä½œç³»ç»Ÿæ€æƒ³å’Œæ¦‚å¿µï¼›åˆæ›´åŠ å…·ä½“ï¼Œå®Œå…¨å¯ä»¥ä»æºç å±‚é¢å»çœ‹å¦‚ä½•ç®€å•åœ°å®ç°è¿›ç¨‹ã€é¡µè¡¨ã€é”è¿™äº›åŸºç¡€è®¾æ–½ï¼Œå¾ˆé€‚åˆåœ¨ç¦»å¼€å­¦æ ¡ä¹‹åæ‹¿æ¥è¡¥è¯¾ã€‚ é™¤äº†è¯¾æœ¬å’Œæ³¨é‡Šï¼Œé˜…è¯»å’Œç†è§£ä¸€ä»½æºç æœ€æœ‰æ•ˆçš„æ–¹å¼å°±æ˜¯æŠŠå®ƒè·‘èµ·æ¥ã€è°ƒè¯•èµ·æ¥ï¼Œä¸‹é¢ä¼šè¯´æ˜æ€ä¹ˆç”¨åœ¨ macOS ä¸‹è¿è¡Œå’Œä½¿ç”¨ VS Code è°ƒè¯• Xv6 å†…æ ¸ã€‚</summary>
      

      
      
    </entry>
  
  
</feed>
